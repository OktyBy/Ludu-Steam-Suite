<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ludu Steam Suite</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #0a0b0d;
            --bg-primary: #12141a;
            --bg-secondary: #1a1d26;
            --bg-elevated: #22262f;
            --bg-hover: #2a2f3a;
            --border: #2d3340;
            --border-focus: #0ea5e9;
            --text-primary: #f0f2f5;
            --text-secondary: #8a92a3;
            --text-muted: #5a6275;
            --accent: #0ea5e9;
            --accent-glow: rgba(14, 165, 233, 0.3);
            --success: #34d399;
            --success-glow: rgba(52, 211, 153, 0.2);
            --warning: #fbbf24;
            --warning-glow: rgba(251, 191, 36, 0.2);
            --error: #f87171;
            --error-glow: rgba(248, 113, 113, 0.2);
            --teal: #14b8a6;
            --teal-glow: rgba(20, 184, 166, 0.2);
            --gradient-accent: linear-gradient(135deg, #0ea5e9 0%, #14b8a6 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-deep);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: linear-gradient(rgba(74, 144, 226, 0.02) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(74, 144, 226, 0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
            z-index: 0;
        }

        .app-container { min-height: 100vh; display: flex; flex-direction: column; position: relative; z-index: 1; }

        /* Header */
        .app-header {
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border);
            padding: 0 24px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left { display: flex; align-items: center; gap: 16px; }

        .menu-btn {
            width: 40px; height: 40px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 10px;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 5px; cursor: pointer;
            transition: all 0.2s ease;
        }

        .menu-btn:hover { background: var(--bg-elevated); border-color: var(--accent); }
        .menu-btn.active { background: var(--accent); border-color: var(--accent); }
        .menu-btn span { display: block; width: 18px; height: 2px; background: var(--text-secondary); border-radius: 1px; transition: all 0.2s ease; }
        .menu-btn.active span { background: white; }
        .menu-btn.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .menu-btn.active span:nth-child(2) { opacity: 0; }
        .menu-btn.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }

        .logo { display: flex; align-items: center; gap: 12px; }

        .logo-icon {
            width: 36px; height: 36px;
            background: linear-gradient(135deg, #0ea5e9 0%, #14b8a6 100%);
            border-radius: 8px;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 1px; padding: 4px;
        }

        .logo-icon span { font-size: 10px; font-weight: 700; color: white; letter-spacing: 0.5px; line-height: 1; }

        .logo h1 { font-size: 1.2rem; font-weight: 600; }
        .logo h1 .subtitle { color: var(--text-secondary); font-weight: 400; margin-left: 6px; }

        .current-tool {
            display: flex; align-items: center; gap: 8px;
            padding: 6px 14px;
            background: var(--bg-secondary);
            border-radius: 8px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .current-tool svg { width: 16px; height: 16px; stroke: var(--accent); fill: none; stroke-width: 2; }
        .current-tool strong { color: var(--text-primary); }

        .header-right { display: flex; align-items: center; gap: 12px; }

        /* Navigation Menu */
        .nav-overlay {
            position: fixed;
            top: 64px; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 90;
        }

        .nav-overlay.active { opacity: 1; visibility: visible; }

        .nav-menu {
            position: fixed;
            top: 64px; left: 0;
            width: 280px; height: calc(100vh - 64px);
            background: var(--bg-primary);
            border-right: 1px solid var(--border);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 95;
            overflow-y: auto;
            padding: 16px 0;
        }

        .nav-menu.active { transform: translateX(0); }

        .nav-category {
            padding: 0 16px;
            margin-bottom: 8px;
        }

        .nav-category-title {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 12px 12px 8px;
        }

        .nav-item {
            display: flex; align-items: center; gap: 12px;
            padding: 12px 16px;
            margin: 2px 8px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.15s ease;
            color: var(--text-secondary);
        }

        .nav-item:hover { background: var(--bg-secondary); color: var(--text-primary); }
        .nav-item.active { background: var(--accent); color: white; }

        .nav-item svg {
            width: 20px; height: 20px;
            stroke: currentColor; fill: none;
            stroke-width: 1.8; stroke-linecap: round; stroke-linejoin: round;
        }

        .nav-item-text { font-size: 0.9rem; font-weight: 500; }

        .nav-divider { height: 1px; background: var(--border); margin: 12px 16px; }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 28px;
            max-width: 1600px;
            margin: 0 auto;
            width: 100%;
        }

        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Common Components */
        .btn {
            font-family: 'Outfit', sans-serif;
            font-size: 0.85rem; font-weight: 500;
            padding: 10px 20px;
            border-radius: 8px; border: none;
            cursor: pointer;
            display: inline-flex; align-items: center; gap: 8px;
            transition: all 0.2s ease;
        }

        .btn svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }

        .btn-primary { background: var(--gradient-accent); color: white; box-shadow: 0 4px 15px var(--accent-glow); }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 25px var(--accent-glow); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .btn-secondary { background: var(--bg-elevated); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { background: var(--bg-hover); border-color: var(--text-muted); }

        .btn-success { background: var(--success); color: var(--bg-deep); }
        .btn-success:hover { box-shadow: 0 4px 15px var(--success-glow); }

        .btn-small { padding: 8px 14px; font-size: 0.8rem; }

        .btn-outline { background: transparent; color: var(--text-secondary); border: 1px solid var(--border); }
        .btn-outline:hover { background: var(--bg-secondary); color: var(--text-primary); }

        /* Panels */
        .panel {
            background: var(--bg-primary);
            border-radius: 14px;
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .panel-header {
            display: flex; align-items: center; justify-content: space-between;
            padding: 16px 20px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap; gap: 12px;
        }

        .panel-title { display: flex; align-items: center; gap: 10px; font-size: 0.95rem; font-weight: 600; }

        .panel-title-icon {
            width: 30px; height: 30px;
            background: var(--bg-elevated);
            border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
        }

        .panel-title-icon svg { width: 16px; height: 16px; stroke: var(--text-secondary); fill: none; stroke-width: 2; }

        .panel-actions { display: flex; gap: 8px; flex-wrap: wrap; }

        .panel-body { padding: 20px; }

        /* Form Elements */
        .form-group { margin-bottom: 16px; }
        .form-group:last-child { margin-bottom: 0; }

        .form-label { display: block; font-size: 0.8rem; font-weight: 500; color: var(--text-secondary); margin-bottom: 6px; }
        .form-label .required { color: var(--error); margin-left: 3px; }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            padding: 10px 14px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .form-input::placeholder, .form-textarea::placeholder { color: var(--text-muted); }
        .form-input:focus, .form-textarea:focus, .form-select:focus { outline: none; border-color: var(--border-focus); box-shadow: 0 0 0 3px var(--accent-glow); }

        .form-textarea { resize: vertical; min-height: 100px; }
        .form-textarea.large { min-height: 200px; }

        .form-select {
            cursor: pointer; appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%238a92a3' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 40px;
        }

        /* Grid */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }

        @media (max-width: 1200px) { .grid-2 { grid-template-columns: 1fr; } .grid-3, .grid-4 { grid-template-columns: 1fr 1fr; } }
        @media (max-width: 768px) { .grid-3, .grid-4 { grid-template-columns: 1fr; } .main-content { padding: 16px; } }

        /* File Input & Upload */
        .file-input-wrapper { position: relative; display: inline-block; }
        .file-input-wrapper input[type="file"] { position: absolute; left: 0; top: 0; opacity: 0; width: 100%; height: 100%; cursor: pointer; }

        .upload-zone {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .upload-zone:hover { border-color: var(--accent); background: var(--bg-secondary); }
        .upload-zone.dragover { border-color: var(--accent); background: var(--accent-glow); }
        .upload-zone svg { width: 40px; height: 40px; stroke: var(--text-muted); fill: none; stroke-width: 1.5; margin-bottom: 10px; }
        .upload-zone p { color: var(--text-secondary); font-size: 0.85rem; }
        .upload-zone .hint { font-size: 0.75rem; color: var(--text-muted); margin-top: 6px; }

        /* Checkbox */
        .checkbox-wrapper { display: flex; align-items: center; justify-content: center; }
        .checkbox-wrapper input[type="checkbox"] { display: none; }

        .checkbox-custom {
            width: 18px; height: 18px;
            border: 2px solid var(--border);
            border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .checkbox-wrapper input:checked + .checkbox-custom { background: var(--accent); border-color: var(--accent); }
        .checkbox-custom svg { width: 10px; height: 10px; stroke: white; stroke-width: 3; fill: none; opacity: 0; transition: opacity 0.15s ease; }
        .checkbox-wrapper input:checked + .checkbox-custom svg { opacity: 1; }

        /* Toast */
        .toast-container { position: fixed; bottom: 20px; right: 20px; z-index: 1001; display: flex; flex-direction: column; gap: 8px; }

        .toast {
            padding: 12px 18px; border-radius: 10px; font-size: 0.85rem;
            display: flex; align-items: center; gap: 10px;
            animation: slideIn 0.3s ease;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .toast svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2.5; }

        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        .toast.success { background: var(--success); color: var(--bg-deep); }
        .toast.error { background: var(--error); color: white; }
        .toast.info { background: var(--accent); color: white; }

        /* Loading */
        .loading-overlay {
            display: none; position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 11, 13, 0.9);
            z-index: 1000;
            align-items: center; justify-content: center;
            flex-direction: column; gap: 16px;
        }

        .loading-overlay.active { display: flex; }

        .loader { width: 44px; height: 44px; border: 3px solid var(--border); border-top-color: var(--accent); border-radius: 50%; animation: spin 1s linear infinite; }

        @keyframes spin { to { transform: rotate(360deg); } }

        .loading-text { font-size: 0.95rem; color: var(--text-secondary); }
        .loading-progress { font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--accent); }

        /* Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 11, 13, 0.9); z-index: 1000; align-items: center; justify-content: center; }
        .modal-overlay.active { display: flex; }

        .modal { background: var(--bg-primary); border: 1px solid var(--border); border-radius: 14px; padding: 24px; max-width: 450px; width: 90%; }
        .modal h2 { font-size: 1.1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .modal h2 svg { width: 18px; height: 18px; stroke: var(--accent); fill: none; stroke-width: 2; }
        .modal p { color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 16px; }
        .modal-actions { display: flex; gap: 10px; justify-content: flex-end; }

        /* Stats Card */
        .stat-card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 16px; text-align: center; }
        .stat-value { font-size: 1.8rem; font-weight: 700; color: var(--accent); margin-bottom: 2px; }
        .stat-label { font-size: 0.8rem; color: var(--text-muted); }

        /* Progress Bar */
        .progress-container { margin-bottom: 14px; }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
        .progress-text { font-size: 0.8rem; color: var(--text-secondary); }
        .progress-count { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: var(--accent); }
        .progress-bar { height: 5px; background: var(--bg-secondary); border-radius: 3px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--gradient-accent); border-radius: 3px; transition: width 0.5s ease; }

        /* Languages */
        .languages-container { max-height: 480px; overflow-y: auto; padding-right: 6px; }
        .languages-container::-webkit-scrollbar { width: 4px; }
        .languages-container::-webkit-scrollbar-track { background: var(--bg-secondary); border-radius: 2px; }
        .languages-container::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

        .language-item { background: var(--bg-secondary); border-radius: 8px; border: 1px solid var(--border); margin-bottom: 8px; overflow: hidden; transition: all 0.2s ease; }
        .language-item:hover { border-color: var(--text-muted); }
        .language-item.translated { border-color: var(--success); }
        .language-item.source { border-color: var(--accent); }
        .language-item.selected { border-color: var(--warning); }

        .language-header { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; background: var(--bg-elevated); cursor: pointer; }
        .language-header:hover { background: var(--bg-hover); }
        .language-info { display: flex; align-items: center; gap: 8px; }
        .language-flag { font-size: 1.1rem; line-height: 1; }
        .language-name { font-weight: 500; font-size: 0.8rem; }
        .language-code { font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; color: var(--text-muted); background: var(--bg-secondary); padding: 2px 5px; border-radius: 3px; }
        .language-status { display: flex; align-items: center; gap: 6px; }

        .status-badge { font-size: 0.65rem; font-weight: 500; padding: 2px 6px; border-radius: 10px; text-transform: uppercase; letter-spacing: 0.2px; }
        .status-badge.pending { background: var(--bg-primary); color: var(--text-muted); }
        .status-badge.translated { background: var(--success-glow); color: var(--success); }
        .status-badge.source { background: var(--accent-glow); color: var(--accent); }

        .translate-single-btn { padding: 3px 8px; font-size: 0.65rem; background: var(--bg-primary); border: 1px solid var(--border); border-radius: 4px; color: var(--text-secondary); cursor: pointer; transition: all 0.2s ease; }
        .translate-single-btn:hover { background: var(--accent); border-color: var(--accent); color: white; }

        .expand-icon { display: flex; align-items: center; padding: 3px; cursor: pointer; }
        .expand-icon svg { width: 12px; height: 12px; stroke: var(--text-muted); fill: none; stroke-width: 2; transition: transform 0.2s ease; }
        .language-item.expanded .expand-icon svg { transform: rotate(180deg); }

        .language-content { display: none; padding: 12px; border-top: 1px solid var(--border); }
        .language-item.expanded .language-content { display: block; }
        .language-field { margin-bottom: 10px; }
        .language-field:last-child { margin-bottom: 0; }
        .field-label { font-size: 0.7rem; color: var(--text-muted); margin-bottom: 3px; text-transform: uppercase; letter-spacing: 0.2px; }
        .field-value { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-primary); padding: 8px; border-radius: 6px; white-space: pre-wrap; word-break: break-word; max-height: 100px; overflow-y: auto; }
        .field-value:empty::after { content: 'â€”'; color: var(--text-muted); }

        .selection-controls { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; padding: 8px 12px; background: var(--bg-secondary); border-radius: 6px; }
        .selection-info { font-size: 0.8rem; color: var(--text-secondary); font-family: 'JetBrains Mono', monospace; }
        .selection-info strong { color: var(--accent); }

        /* Tags */
        .tag { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 20px; font-size: 0.8rem; color: var(--text-secondary); margin: 4px; cursor: pointer; transition: all 0.2s ease; }
        .tag:hover { border-color: var(--accent); color: var(--accent); }
        .tag.selected { background: var(--accent); border-color: var(--accent); color: white; }
        .tag-container { display: flex; flex-wrap: wrap; gap: 6px; }

        /* Ref Games */
        .ref-games-list { display: flex; flex-direction: column; gap: 8px; max-height: 200px; overflow-y: auto; }
        .ref-game-item { display: flex; align-items: center; gap: 10px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 8px; padding: 10px 12px; }
        .ref-game-item img { width: 48px; height: 22px; object-fit: cover; border-radius: 3px; flex-shrink: 0; }
        .ref-game-info { flex: 1; min-width: 0; }
        .ref-game-name { font-size: 0.85rem; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .ref-game-appid { font-size: 0.7rem; color: var(--text-muted); }
        .ref-game-remove { width: 24px; height: 24px; background: transparent; border: none; cursor: pointer; color: var(--text-muted); transition: color 0.15s; display: flex; align-items: center; justify-content: center; }
        .ref-game-remove:hover { color: var(--error); }
        .ref-game-remove svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; }

        /* Tag Ranking */
        .tag-rank-item { display: flex; align-items: center; gap: 10px; padding: 10px 0; border-bottom: 1px solid var(--border); }
        .tag-rank-item:last-child { border-bottom: none; }
        .tag-rank-pos { width: 28px; height: 28px; background: var(--bg-elevated); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 600; color: var(--text-secondary); flex-shrink: 0; }
        .tag-rank-pos.top3 { background: var(--accent); color: white; }
        .tag-rank-name { flex: 1; font-size: 0.9rem; }
        .tag-rank-bar { width: 80px; height: 6px; background: var(--bg-elevated); border-radius: 3px; overflow: hidden; }
        .tag-rank-bar-fill { height: 100%; background: var(--gradient-accent); border-radius: 3px; transition: width 0.3s ease; }
        .tag-rank-score { font-size: 0.75rem; color: var(--text-muted); width: 40px; text-align: right; }
        .tag-rank-count { font-size: 0.7rem; color: var(--text-muted); background: var(--bg-secondary); padding: 2px 6px; border-radius: 4px; }

        .empty-state.small { padding: 30px 20px; }
        .empty-state.small svg { width: 32px; height: 32px; }
        .empty-state.small h3 { font-size: 0.9rem; }
        .empty-state.small p { font-size: 0.8rem; }

        .badge { background: var(--accent); color: white; font-size: 0.7rem; font-weight: 600; padding: 2px 8px; border-radius: 10px; margin-left: 6px; }

        /* Sale Events */
        .sale-event-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 14px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 8px; margin-bottom: 8px; }
        .sale-event-name { font-weight: 500; font-size: 0.9rem; }
        .sale-event-date { font-size: 0.8rem; color: var(--text-secondary); }
        .sale-event-rating { font-size: 0.7rem; font-weight: 600; padding: 4px 10px; border-radius: 12px; }
        .sale-event-rating.hot { background: var(--error-glow); color: var(--error); }
        .sale-event-rating.high { background: var(--warning-glow); color: var(--warning); }
        .sale-event-rating.medium { background: var(--accent-glow); color: var(--accent); }

        .sale-strategy-card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 16px; margin-bottom: 12px; }
        .sale-strategy-card.recommended { border-color: var(--success); background: var(--success-glow); }
        .sale-strategy-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        .sale-strategy-discount { font-size: 1.5rem; font-weight: 700; color: var(--success); }
        .sale-strategy-title { font-weight: 600; font-size: 1rem; }
        .sale-strategy-desc { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }
        .sale-strategy-stats { display: flex; gap: 20px; margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border); }
        .sale-strategy-stat { text-align: center; }
        .sale-strategy-stat-value { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); }
        .sale-strategy-stat-label { font-size: 0.7rem; color: var(--text-muted); }

        .stat-sublabel { font-size: 0.7rem; color: var(--text-muted); margin-top: 4px; }

        /* Regional Pricing */
        .regional-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; }
        .regional-item { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 14px; transition: all 0.15s ease; }
        .regional-item:hover { border-color: var(--accent); }
        .regional-item-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
        .regional-item-country { display: flex; align-items: center; gap: 8px; }
        .regional-item-flag { font-size: 1.2rem; }
        .regional-item-name { font-size: 0.85rem; font-weight: 500; }
        .regional-item-code { font-size: 0.7rem; color: var(--text-muted); }
        .regional-item-price { font-size: 1.1rem; font-weight: 600; color: var(--accent); }
        .regional-item-local { font-size: 0.8rem; color: var(--text-secondary); }
        .regional-item-diff { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
        .regional-item-diff.lower { background: var(--success-glow); color: var(--success); }
        .regional-item-diff.higher { background: var(--error-glow); color: var(--error); }
        .regional-item-diff.same { background: var(--bg-elevated); color: var(--text-muted); }

        /* Reviews */
        .review-card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 14px; margin-bottom: 10px; }
        .review-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
        .review-sentiment { display: flex; align-items: center; gap: 5px; font-size: 0.75rem; font-weight: 500; padding: 3px 8px; border-radius: 12px; }
        .review-sentiment.positive { background: var(--success-glow); color: var(--success); }
        .review-sentiment.negative { background: var(--error-glow); color: var(--error); }
        .review-text { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }
        .review-meta { margin-top: 8px; font-size: 0.7rem; color: var(--text-muted); }

        .insight-card { background: var(--bg-secondary); border-left: 3px solid var(--accent); border-radius: 0 10px 10px 0; padding: 14px 18px; margin-bottom: 10px; }
        .insight-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
        .insight-title svg { width: 14px; height: 14px; stroke: var(--accent); fill: none; stroke-width: 2; }
        .insight-text { font-size: 0.85rem; color: var(--text-secondary); }

        /* Achievements */
        .achievement-item { display: flex; align-items: center; gap: 14px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 14px; margin-bottom: 10px; }
        .achievement-icon { width: 56px; height: 56px; background: var(--bg-elevated); border-radius: 8px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; overflow: hidden; }
        .achievement-icon img { width: 100%; height: 100%; object-fit: cover; }
        .achievement-icon svg { width: 28px; height: 28px; stroke: var(--text-muted); fill: none; stroke-width: 1.5; }
        .achievement-info { flex: 1; }
        .achievement-name { font-weight: 600; font-size: 0.9rem; margin-bottom: 3px; }
        .achievement-desc { font-size: 0.8rem; color: var(--text-secondary); }
        .achievement-actions { display: flex; gap: 6px; }

        /* Capsules */
        .capsule-preview { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 16px; text-align: center; }
        .capsule-preview img { max-width: 100%; border-radius: 6px; margin-bottom: 10px; }
        .capsule-size { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: var(--text-muted); }
        .capsule-name { font-weight: 500; font-size: 0.85rem; margin-bottom: 3px; }
        .capsule-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }

        /* Trading Cards */
        .card-preview { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 14px; text-align: center; }
        .card-preview img { max-width: 100%; border-radius: 6px; margin-bottom: 8px; }
        .card-preview-placeholder { width: 100%; aspect-ratio: 206/184; background: var(--bg-elevated); border-radius: 6px; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; }
        .card-preview-placeholder svg { width: 40px; height: 40px; stroke: var(--text-muted); fill: none; stroke-width: 1; }

        /* Revenue */
        .revenue-card { background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-elevated) 100%); border: 1px solid var(--border); border-radius: 14px; padding: 24px; }
        .revenue-value { font-size: 2.5rem; font-weight: 700; background: var(--gradient-accent); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 4px; }
        .revenue-label { font-size: 0.85rem; color: var(--text-muted); }
        .revenue-change { display: inline-flex; align-items: center; gap: 4px; font-size: 0.8rem; padding: 3px 8px; border-radius: 12px; margin-top: 8px; }
        .revenue-change.up { background: var(--success-glow); color: var(--success); }
        .revenue-change.down { background: var(--error-glow); color: var(--error); }

        /* Empty State */
        .empty-state { text-align: center; padding: 40px 20px; color: var(--text-muted); }
        .empty-state svg { width: 48px; height: 48px; stroke: var(--border); fill: none; stroke-width: 1.5; margin-bottom: 12px; }
        .empty-state h3 { font-size: 1rem; color: var(--text-secondary); margin-bottom: 6px; }
        .empty-state p { font-size: 0.85rem; }

        /* Input Group */
        .input-group { display: flex; gap: 8px; }
        .input-group .form-input { flex: 1; }

        /* Screenshot Captioner */
        .screenshot-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
        .screenshot-item { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; }
        .screenshot-img { width: 100%; aspect-ratio: 16/9; object-fit: cover; }
        .screenshot-caption { padding: 14px; }
        .screenshot-caption textarea { width: 100%; background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 8px; padding: 10px; font-size: 0.85rem; color: var(--text-primary); resize: vertical; min-height: 60px; }
        .screenshot-actions { display: flex; gap: 8px; margin-top: 10px; }

        /* Social Post Generator */
        .platform-tabs { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; }
        .platform-tab { padding: 8px 16px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 20px; font-size: 0.85rem; cursor: pointer; transition: all 0.15s ease; display: flex; align-items: center; gap: 6px; }
        .platform-tab:hover { border-color: var(--accent); }
        .platform-tab.active { background: var(--accent); border-color: var(--accent); color: white; }
        .post-preview { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
        .post-preview-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
        .post-preview-avatar { width: 40px; height: 40px; background: var(--gradient-accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; color: white; }
        .post-preview-content { font-size: 0.9rem; line-height: 1.6; white-space: pre-wrap; }
        .post-char-count { text-align: right; font-size: 0.75rem; color: var(--text-muted); margin-top: 8px; }
        .post-char-count.warning { color: var(--warning); }
        .post-char-count.error { color: var(--error); }

        /* Review Responder */
        .response-card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 16px; margin-bottom: 12px; }
        .response-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        .response-card-type { font-size: 0.75rem; font-weight: 500; padding: 4px 10px; border-radius: 12px; background: var(--bg-elevated); color: var(--text-secondary); }
        .response-card-content { font-size: 0.9rem; line-height: 1.6; color: var(--text-primary); white-space: pre-wrap; }
        .response-card-actions { display: flex; gap: 8px; margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border); }

        /* Competitor Spy */
        .spy-game-card { display: flex; gap: 16px; }
        .spy-game-image { width: 120px; height: 45px; border-radius: 6px; object-fit: cover; }
        .spy-game-info { flex: 1; }
        .spy-game-title { font-weight: 600; font-size: 1rem; margin-bottom: 4px; }
        .spy-game-dev { font-size: 0.8rem; color: var(--text-secondary); }
        .spy-metric { background: var(--bg-elevated); border-radius: 10px; padding: 14px; text-align: center; }
        .spy-metric-value { font-size: 1.5rem; font-weight: 700; color: var(--accent); }
        .spy-metric-label { font-size: 0.75rem; color: var(--text-muted); margin-top: 4px; }

        /* Stat Card */
        .stat-card { background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-elevated) 100%); border: 1px solid var(--border); border-radius: 14px; padding: 20px; text-align: center; }
        .stat-value { font-size: 2rem; font-weight: 700; background: var(--gradient-accent); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stat-label { font-size: 0.8rem; color: var(--text-muted); margin-top: 4px; }

        /* Launch Checklist */
        .checklist-progress { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; padding: 14px; background: var(--bg-elevated); border-radius: 10px; }
        .checklist-progress .progress-bar { flex: 1; height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden; }
        .checklist-progress .progress-fill { height: 100%; background: var(--gradient-accent); transition: width 0.3s ease; }
        .checklist-category { margin-bottom: 16px; }
        .checklist-category-header { display: flex; align-items: center; gap: 8px; font-weight: 600; font-size: 0.9rem; padding: 10px 0; border-bottom: 1px solid var(--border); margin-bottom: 10px; }
        .checklist-category-header svg { width: 16px; height: 16px; stroke: var(--accent); fill: none; stroke-width: 2; }
        .checklist-item { display: flex; align-items: center; gap: 10px; padding: 10px 12px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 8px; margin-bottom: 6px; cursor: pointer; transition: all 0.15s ease; }
        .checklist-item:hover { border-color: var(--accent); }
        .checklist-item.checked { background: var(--success-glow); border-color: var(--success); }
        .checklist-item.checked .checklist-checkbox { background: var(--success); border-color: var(--success); }
        .checklist-item.checked .checklist-checkbox svg { opacity: 1; }
        .checklist-checkbox { width: 20px; height: 20px; border: 2px solid var(--border); border-radius: 4px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 0.15s ease; }
        .checklist-checkbox svg { width: 12px; height: 12px; stroke: white; fill: none; stroke-width: 3; opacity: 0; transition: opacity 0.15s ease; }
        .checklist-text { font-size: 0.85rem; flex: 1; }

        /* Countdown */
        .countdown-display { text-align: center; padding: 30px; background: var(--bg-elevated); border-radius: 14px; margin: 16px 0; }
        .countdown-value { font-size: 3rem; font-weight: 700; background: var(--gradient-accent); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .countdown-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 4px; }

        /* Tip Card */
        .tip-card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 10px; padding: 12px 14px; margin-bottom: 8px; font-size: 0.85rem; line-height: 1.5; }
        .tip-card strong { color: var(--text-primary); }

        /* Status Badges */
        .status-badge { font-size: 0.7rem; padding: 3px 8px; border-radius: 10px; font-weight: 500; }
        .status-badge.abandoned { background: var(--error-glow); color: var(--error); }
        .status-badge.unreleased { background: var(--warning-glow); color: var(--warning); }
        .status-badge.active { background: var(--success-glow); color: var(--success); }

        /* Favorites */
        .nav-item-wrapper { display: flex; align-items: center; gap: 4px; }
        .nav-item-wrapper .nav-item { flex: 1; }
        .fav-btn { width: 28px; height: 28px; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center; border-radius: 6px; transition: all 0.15s ease; opacity: 0.3; }
        .fav-btn:hover { opacity: 1; background: var(--bg-elevated); }
        .fav-btn.active { opacity: 1; }
        .fav-btn svg { width: 14px; height: 14px; stroke: var(--text-muted); fill: none; stroke-width: 2; transition: all 0.15s ease; }
        .fav-btn.active svg { stroke: #fbbf24; fill: #fbbf24; }
        .favorites-section { margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid var(--border); }
        .favorites-section:empty { display: none; }
        .favorites-section + .nav-divider { display: none; }
        .favorites-title { font-size: 0.7rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; padding: 8px 16px 6px; display: flex; align-items: center; gap: 6px; }
        .favorites-title svg { width: 12px; height: 12px; stroke: #fbbf24; fill: #fbbf24; }

        /* Home Hero */
        .home-hero {
            position: relative;
            min-height: calc(100vh - 64px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .hero-bg {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
        }
        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.5;
            animation: float 20s ease-in-out infinite;
        }
        .orb-1 {
            width: 500px; height: 500px;
            background: radial-gradient(circle, rgba(74, 144, 226, 0.4) 0%, transparent 70%);
            top: -150px; left: -100px;
        }
        .orb-2 {
            width: 400px; height: 400px;
            background: radial-gradient(circle, rgba(20, 184, 166, 0.4) 0%, transparent 70%);
            bottom: -100px; right: -50px;
            animation-delay: -7s;
        }
        .orb-3 {
            width: 300px; height: 300px;
            background: radial-gradient(circle, rgba(74, 144, 226, 0.3) 0%, transparent 70%);
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: -14s;
        }
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(30px, -30px) scale(1.05); }
            50% { transform: translate(-20px, 20px) scale(0.95); }
            75% { transform: translate(20px, 30px) scale(1.02); }
        }
        .grid-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image:
                linear-gradient(rgba(74, 144, 226, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(74, 144, 226, 0.03) 1px, transparent 1px);
            background-size: 80px 80px;
            mask-image: radial-gradient(ellipse at center, black 0%, transparent 70%);
            -webkit-mask-image: radial-gradient(ellipse at center, black 0%, transparent 70%);
        }
        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px;
        }
        .hero-logo {
            position: relative;
            width: 140px; height: 140px;
            margin: 0 auto 40px;
        }
        .hero-logo-ring {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 140px; height: 140px;
            border: 2px solid rgba(74, 144, 226, 0.3);
            border-radius: 50%;
            animation: ring-pulse 3s ease-in-out infinite;
        }
        .hero-logo-ring.ring-2 {
            width: 170px; height: 170px;
            border-color: rgba(20, 184, 166, 0.2);
            animation-delay: -1.5s;
        }
        @keyframes ring-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.2; }
        }
        .hero-logo-icon {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100px; height: 100px;
            background: linear-gradient(135deg, #0ea5e9 0%, #14b8a6 100%);
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            box-shadow:
                0 0 60px rgba(14, 165, 233, 0.5),
                0 20px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: logo-glow 4s ease-in-out infinite;
        }
        @keyframes logo-glow {
            0%, 100% { box-shadow: 0 0 60px rgba(14, 165, 233, 0.5), 0 20px 40px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2); }
            50% { box-shadow: 0 0 80px rgba(14, 165, 233, 0.7), 0 20px 40px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2); }
        }
        .hero-logo-icon span {
            font-size: 22px;
            font-weight: 700;
            color: white;
            letter-spacing: 2px;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            letter-spacing: -1px;
        }
        .title-line {
            background: linear-gradient(135deg, #ffffff 0%, #a0a8b8 50%, #0ea5e9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: title-shimmer 8s ease-in-out infinite;
            background-size: 200% 200%;
        }
        @keyframes title-shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 40px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        .hero-cta {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-bottom: 60px;
        }
        .cta-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 28px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }
        .cta-btn svg {
            width: 20px; height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }
        .cta-btn.primary {
            background: linear-gradient(135deg, #0ea5e9 0%, #14b8a6 100%);
            color: white;
            box-shadow: 0 4px 20px rgba(14, 165, 233, 0.4);
        }
        .cta-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(14, 165, 233, 0.5);
        }
        .cta-btn.secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        .cta-btn.secondary:hover {
            background: var(--bg-elevated);
            border-color: var(--accent);
        }
        .hero-features {
            display: flex;
            gap: 40px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .feature {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        .feature-icon {
            width: 36px; height: 36px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .feature-icon svg {
            width: 18px; height: 18px;
            stroke: var(--accent);
            fill: none;
            stroke-width: 2;
        }
        .hero-version {
            position: absolute;
            bottom: 24px;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: var(--bg-deep);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loading-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
        }
        .loading-icon {
            width: 80px; height: 80px;
            background: linear-gradient(135deg, #0ea5e9 0%, #14b8a6 100%);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            animation: loadingPulse 2s ease-in-out infinite;
        }
        .loading-icon span {
            font-size: 20px;
            font-weight: 700;
            color: white;
            letter-spacing: 2px;
            line-height: 1;
        }
        @keyframes loadingPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(14, 165, 233, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 40px 10px rgba(14, 165, 233, 0.2); }
        }
        .loading-title {
            text-align: center;
        }
        .loading-title h2 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 6px;
            background: linear-gradient(135deg, #ffffff 0%, #a0a8b8 50%, #0ea5e9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .loading-title p {
            font-size: 0.9rem;
            color: var(--text-muted);
            letter-spacing: 1px;
        }
        .loading-bar-container {
            width: 200px;
            height: 4px;
            background: var(--bg-secondary);
            border-radius: 2px;
            overflow: hidden;
        }
        .loading-bar {
            height: 100%;
            width: 0%;
            background: var(--gradient-accent);
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        .loading-status {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
        }
        .loading-version {
            position: absolute;
            bottom: 30px;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Settings Page */
        .settings-page {
            max-width: 700px;
            margin: 0 auto;
            padding: 48px 24px;
        }
        .settings-header {
            margin-bottom: 40px;
        }
        .settings-header h2 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .settings-header p {
            color: var(--text-secondary);
        }
        .settings-section {
            margin-bottom: 40px;
        }
        .settings-section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }
        .settings-section-title svg {
            width: 18px; height: 18px;
            stroke: var(--text-muted);
            fill: none;
            stroke-width: 2;
        }
        .settings-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 16px;
            overflow: hidden;
        }
        .settings-card-header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }
        .settings-card-icon {
            width: 48px; height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .settings-card-icon.openai {
            background: linear-gradient(135deg, #10a37f 0%, #1a7f5a 100%);
        }
        .settings-card-icon.steam {
            background: linear-gradient(135deg, #1b2838 0%, #2a475e 100%);
        }
        .settings-card-icon svg {
            width: 24px; height: 24px;
            stroke: white;
            fill: none;
            stroke-width: 2;
        }
        .settings-card-info {
            flex: 1;
        }
        .settings-card-info h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .settings-card-info p {
            font-size: 0.8rem;
            color: var(--text-muted);
        }
        .settings-card-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
        }
        .settings-card-status .status-dot {
            width: 8px; height: 8px;
            border-radius: 50%;
            background: var(--error);
        }
        .settings-card-status.active .status-dot {
            background: var(--success);
        }
        .settings-card-status .status-text {
            color: var(--text-muted);
        }
        .settings-card-status.active .status-text {
            color: var(--success);
        }
        .settings-card-body {
            padding: 20px;
        }
        .api-key-input-group {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }
        .api-key-input-group .form-input {
            flex: 1;
            font-family: 'JetBrains Mono', monospace;
        }
        .settings-card-actions {
            display: flex;
            gap: 8px;
        }
        .settings-help {
            margin-top: 12px;
            font-size: 0.8rem;
        }
        .settings-help a {
            color: var(--accent);
            text-decoration: none;
        }
        .settings-help a:hover {
            text-decoration: underline;
        }
        .settings-about {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .about-logo .home-logo-icon {
            width: 60px; height: 60px;
        }
        .about-logo .home-logo-icon span {
            font-size: 14px;
        }
        .about-info h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .about-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        .about-copyright {
            margin-top: 8px;
            color: var(--text-muted) !important;
            font-size: 0.75rem !important;
        }
        .btn-icon {
            width: 40px; height: 40px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn-icon:hover {
            background: var(--bg-hover);
            border-color: var(--accent);
        }
        .btn-icon svg {
            width: 18px; height: 18px;
            stroke: var(--text-secondary);
            fill: none;
            stroke-width: 2;
        }
        .btn-danger {
            color: var(--error);
            border-color: var(--error);
        }
        .btn-danger:hover {
            background: var(--error-glow);
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">
            <div class="loading-icon">
                <span>LU</span>
                <span>DU</span>
            </div>
            <div class="loading-title">
                <h2>Ludu Steam Suite</h2>
                <p>Steamworks Developer Tools</p>
            </div>
            <div class="loading-bar-container">
                <div class="loading-bar" id="loadingBar"></div>
            </div>
            <div class="loading-status" id="loadingStatus">Baslatiliyor...</div>
        </div>
        <div class="loading-version">v1.0.0</div>
    </div>

    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <button class="menu-btn" id="menuBtn" onclick="toggleMenu()">
                    <span></span><span></span><span></span>
                </button>
                <div class="logo">
                    <div class="logo-icon"><span>LU</span><span>DU</span></div>
                    <h1>Ludu<span class="subtitle">Steam Suite</span></h1>
                </div>
                <div class="current-tool">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    <strong id="currentToolName">Patch Notes</strong>
                </div>
            </div>
            <div class="header-right">
                <button class="btn btn-secondary btn-small" onclick="openApiKeyModal()">
                    <svg viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>
                    API Key
                </button>
                <button class="btn-icon" onclick="switchTool('settings')" title="Ayarlar">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                </button>
            </div>
        </header>

        <!-- Navigation Menu -->
        <div class="nav-overlay" id="navOverlay" onclick="toggleMenu()"></div>
        <nav class="nav-menu" id="navMenu">
            <div class="favorites-section" id="favoritesSection"></div>
            <div class="nav-item active" onclick="switchTool('home')" style="margin: 8px 12px 16px; border-radius: 10px;">
                <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                <span class="nav-item-text">Ana Sayfa</span>
            </div>
            <div class="nav-divider"></div>
            <div class="nav-category">
                <div class="nav-category-title">Ä°Ã§erik & Ã‡eviri</div>
                <div class="nav-item" onclick="switchTool('localization')">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    <span class="nav-item-text">Patch Notes</span>
                </div>
                <div class="nav-item" onclick="switchTool('storepage')">
                    <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    <span class="nav-item-text">Store Page</span>
                </div>
                <div class="nav-item" onclick="switchTool('screenshots')">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
                    <span class="nav-item-text">Screenshot Captioner</span>
                </div>
                <div class="nav-item" onclick="switchTool('tags')">
                    <svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
                    <span class="nav-item-text">Tag Suggester</span>
                </div>
                <div class="nav-item" onclick="switchTool('socialpost')">
                    <svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="M22 6l-10 7L2 6"/></svg>
                    <span class="nav-item-text">Social Post Generator</span>
                </div>
            </div>

            <div class="nav-divider"></div>

            <div class="nav-category">
                <div class="nav-category-title">Analiz & Strateji</div>
                <div class="nav-item" onclick="switchTool('reviews')">
                    <svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                    <span class="nav-item-text">Reviews</span>
                </div>
                <div class="nav-item" onclick="switchTool('reviewresponder')">
                    <svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
                    <span class="nav-item-text">Review Responder</span>
                </div>
                <div class="nav-item" onclick="switchTool('revenue')">
                    <svg viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                    <span class="nav-item-text">Revenue</span>
                </div>
                <div class="nav-item" onclick="switchTool('wishlist')">
                    <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                    <span class="nav-item-text">Wishlist Estimator</span>
                </div>
                <div class="nav-item" onclick="switchTool('saleoptimizer')">
                    <svg viewBox="0 0 24 24"><path d="M12 2v4"/><path d="M12 18v4"/><path d="M4.93 4.93l2.83 2.83"/><path d="M16.24 16.24l2.83 2.83"/><path d="M2 12h4"/><path d="M18 12h4"/></svg>
                    <span class="nav-item-text">Sale Optimizer</span>
                </div>
                <div class="nav-item" onclick="switchTool('regionalpricing')">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    <span class="nav-item-text">Regional Pricing</span>
                </div>
                <div class="nav-item" onclick="switchTool('competitorspy')">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 1v2"/><path d="M12 21v2"/><path d="M4.22 4.22l1.42 1.42"/><path d="M18.36 18.36l1.42 1.42"/><path d="M1 12h2"/><path d="M21 12h2"/><path d="M4.22 19.78l1.42-1.42"/><path d="M18.36 5.64l1.42-1.42"/></svg>
                    <span class="nav-item-text">Competitor Spy</span>
                </div>
            </div>

            <div class="nav-divider"></div>

            <div class="nav-category">
                <div class="nav-category-title">YayÄ±n & Planlama</div>
                <div class="nav-item" onclick="switchTool('launchchecklist')">
                    <svg viewBox="0 0 24 24"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                    <span class="nav-item-text">Launch Checklist</span>
                </div>
            </div>

            <div class="nav-divider"></div>

            <div class="nav-category">
                <div class="nav-category-title">Assets</div>
                <div class="nav-item" onclick="switchTool('achievements')">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                    <span class="nav-item-text">Achievements</span>
                </div>
                <div class="nav-item" onclick="switchTool('tradingcards')">
                    <svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M12 8v8"/><path d="M8 12h8"/></svg>
                    <span class="nav-item-text">Trading Cards</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home -->
            <div class="tab-content active" id="tab-home">
                <div class="home-hero">
                    <div class="hero-bg">
                        <div class="orb orb-1"></div>
                        <div class="orb orb-2"></div>
                        <div class="orb orb-3"></div>
                        <div class="grid-overlay"></div>
                    </div>
                    <div class="hero-content">
                        <div class="hero-logo">
                            <div class="hero-logo-ring"></div>
                            <div class="hero-logo-ring ring-2"></div>
                            <div class="hero-logo-icon">
                                <span>LU</span>
                                <span>DU</span>
                            </div>
                        </div>
                        <h1 class="hero-title">
                            <span class="title-line">Steam Suite</span>
                        </h1>
                        <p class="hero-subtitle">Steamworks Developer Tools</p>
                        <div class="hero-cta">
                            <button class="cta-btn primary" onclick="toggleMenu()">
                                <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                                AraÃ§larÄ± KeÅŸfet
                            </button>
                            <button class="cta-btn secondary" onclick="openApiKeyModal()">
                                <svg viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>
                                API Key
                            </button>
                        </div>
                    </div>
                    <div class="hero-version">v1.0.0</div>
                </div>
            </div>

            <!-- Localization -->
            <div class="tab-content" id="tab-localization">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>Kaynak Metin (TR)</div>
                            <div class="panel-actions">
                                <div class="file-input-wrapper"><button class="btn btn-secondary btn-small"><svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>CSV</button><input type="file" accept=".csv" onchange="Localization.importCSV(event)"></div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Kaynak Dil</label><select class="form-select" id="loc-sourceLanguage" onchange="Localization.setSourceLanguage(this.value)"></select></div>
                            <div class="form-group"><label class="form-label">BaÅŸlÄ±k<span class="required">*</span></label><input type="text" class="form-input" id="loc-inputTitle" placeholder="BaÅŸlÄ±k..."></div>
                            <div class="form-group"><label class="form-label">Alt BaÅŸlÄ±k</label><input type="text" class="form-input" id="loc-inputSubtitle" placeholder="Alt baÅŸlÄ±k..."></div>
                            <div class="form-group"><label class="form-label">Ã–zet</label><textarea class="form-textarea" id="loc-inputSummary" placeholder="Ã–zet..."></textarea></div>
                            <div class="form-group"><label class="form-label">Ä°Ã§erik<span class="required">*</span></label><textarea class="form-textarea large" id="loc-inputBody" placeholder="Ä°Ã§erik... [p] etiketleri kullanÄ±labilir"></textarea></div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg></div>Diller</div>
                            <div class="panel-actions">
                                <button class="btn btn-outline btn-small" onclick="Localization.selectAll()">TÃ¼mÃ¼</button>
                                <button class="btn btn-outline btn-small" onclick="Localization.deselectAll()">Temizle</button>
                                <button class="btn btn-primary btn-small" onclick="Localization.translateSelected()"><svg viewBox="0 0 24 24"><path d="M5 8l6 6"/><path d="M4 14l6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="M22 22l-5-10-5 10"/><path d="M14 18h6"/></svg>Ã‡evir</button>
                                <button class="btn btn-success btn-small" onclick="Localization.downloadCSV()"><svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>CSV</button>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="selection-controls"><span class="selection-info">SeÃ§ili: <strong id="loc-selectedCount">0</strong> / <span id="loc-totalCount">29</span></span></div>
                            <div class="progress-container"><div class="progress-header"><span class="progress-text">Ä°lerleme</span><span class="progress-count" id="loc-progressCount">0 / 29</span></div><div class="progress-bar"><div class="progress-fill" id="loc-progressFill" style="width:0%"></div></div></div>
                            <div class="languages-container" id="loc-languagesContainer"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Store Page Builder -->
            <div class="tab-content" id="tab-storepage">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>Store Page (TR)</div>
                            <div class="panel-actions">
                                <button class="btn btn-primary btn-small" onclick="StorePage.translateAll()"><svg viewBox="0 0 24 24"><path d="M5 8l6 6"/><path d="M4 14l6-6 2-3"/></svg>TÃ¼m Dillere Ã‡evir</button>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Oyun AdÄ±<span class="required">*</span></label><input type="text" class="form-input" id="store-gameName" placeholder="Football Life Simulator"></div>
                            <div class="form-group"><label class="form-label">KÄ±sa AÃ§Ä±klama<span class="required">*</span></label><textarea class="form-textarea" id="store-shortDesc" placeholder="Steam'de gÃ¶rÃ¼nen kÄ±sa aÃ§Ä±klama (max 300 karakter)"></textarea></div>
                            <div class="form-group"><label class="form-label">DetaylÄ± AÃ§Ä±klama<span class="required">*</span></label><textarea class="form-textarea large" id="store-longDesc" placeholder="DetaylÄ± aÃ§Ä±klama... Steam HTML kullanabilirsiniz"></textarea></div>
                            <div class="form-group"><label class="form-label">Ã–zellikler (her satÄ±r bir Ã¶zellik)</label><textarea class="form-textarea" id="store-features" placeholder="GerÃ§ekÃ§i futbol simÃ¼lasyonu&#10;100+ takÄ±m&#10;Kariyer modu"></textarea></div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg></div>Ã‡Ä±ktÄ± Ã–nizleme</div>
                            <div class="panel-actions">
                                <button class="btn btn-success btn-small" onclick="StorePage.downloadAll()"><svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>TÃ¼mÃ¼nÃ¼ Ä°ndir</button>
                            </div>
                        </div>
                        <div class="panel-body" id="store-preview" style="max-height:500px;overflow-y:auto;">
                            <div class="empty-state"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg><h3>Ã–nizleme</h3><p>Sol tarafÄ± doldurun ve Ã§evirin</p></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tag Suggester -->
            <div class="tab-content" id="tab-tags">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg></div>Oyun Bilgileri</div>
                        </div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Oyun AÃ§Ä±klamasÄ±</label><textarea class="form-textarea" id="tag-description" placeholder="Oyununuzun kÄ±sa aÃ§Ä±klamasÄ± (opsiyonel)" rows="3"></textarea></div>
                            <div class="form-group"><label class="form-label">Oyun TÃ¼rÃ¼</label>
                                <select class="form-select" id="tag-genre">
                                    <option value="">SeÃ§in...</option>
                                    <option value="action">Action</option>
                                    <option value="adventure">Adventure</option>
                                    <option value="rpg">RPG</option>
                                    <option value="simulation">Simulation</option>
                                    <option value="strategy">Strategy</option>
                                    <option value="sports">Sports</option>
                                    <option value="puzzle">Puzzle</option>
                                    <option value="indie">Indie</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg></div>Referans Oyunlar <span class="badge" id="tag-refCount">0</span></div>
                            <div class="panel-actions"><button class="btn btn-outline btn-small" onclick="TagSuggester.clearRefs()">Temizle</button></div>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label class="form-label">Steam Linki veya App ID Ekle</label>
                                <div style="display:flex;gap:8px;">
                                    <input type="text" class="form-input" id="tag-refInput" placeholder="https://store.steampowered.com/app/1245620 veya 1245620" style="flex:1;">
                                    <button class="btn btn-secondary" onclick="TagSuggester.addRef()"><svg viewBox="0 0 24 24" style="width:18px;height:18px;stroke:currentColor;fill:none;stroke-width:2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
                                </div>
                            </div>
                            <div class="ref-games-list" id="tag-refList"></div>
                            <p style="font-size:0.75rem;color:var(--text-muted);margin-top:8px;">Benzer oyunlarÄ± ekleyin, AI ortak tag'leri analiz edecek.</p>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px;">
                    <div class="panel-body" style="display:flex;gap:12px;">
                        <button class="btn btn-primary" onclick="TagSuggester.analyzeAll()" style="flex:1;"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/></svg>Tag Analizi Yap</button>
                        <button class="btn btn-outline" onclick="TagSuggester.copySelected()"><svg viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>SeÃ§ilenleri Kopyala</button>
                    </div>
                </div>
                <div class="grid-2" style="margin-top:20px;">
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></div>Tag SÄ±ralamasÄ±</div>
                        </div>
                        <div class="panel-body" id="tag-ranking">
                            <div class="empty-state small"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/></svg><p>Referans oyun ekleyin</p></div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg></div>Ã–nerilen Tag'ler</div>
                        </div>
                        <div class="panel-body" id="tag-results">
                            <div class="empty-state small"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/></svg><p>Analiz yapÄ±n</p></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Screenshot Captioner -->
            <div class="tab-content" id="tab-screenshots">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg></div>Screenshot YÃ¼kle</div></div>
                        <div class="panel-body">
                            <div class="upload-zone" id="screenshot-uploadZone" style="min-height:200px;">
                                <input type="file" id="screenshot-fileInput" accept="image/*" multiple onchange="ScreenshotCaptioner.handleUpload(event)" style="display:none;">
                                <svg viewBox="0 0 24 24" style="width:48px;height:48px;stroke:var(--text-muted);fill:none;stroke-width:1.5;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
                                <p style="margin-top:12px;">Screenshot'larÄ± sÃ¼rÃ¼kle veya tÄ±kla</p>
                                <p style="font-size:0.75rem;color:var(--text-muted);">Birden fazla gÃ¶rsel yÃ¼klenebilir</p>
                            </div>
                            <div id="screenshot-list" style="margin-top:16px;"></div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></div>Caption AyarlarÄ±</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Oyun AdÄ±</label><input type="text" class="form-input" id="screenshot-gameName" placeholder="My Awesome Game"></div>
                            <div class="form-group"><label class="form-label">Caption Stili</label>
                                <select class="form-select" id="screenshot-style">
                                    <option value="descriptive">AÃ§Ä±klayÄ±cÄ± (Sahneyi anlat)</option>
                                    <option value="marketing">Pazarlama (Hype odaklÄ±)</option>
                                    <option value="minimal">Minimal (KÄ±sa ve Ã¶z)</option>
                                    <option value="feature">Ã–zellik (Feature highlight)</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Hedef Diller</label>
                                <div class="checkbox-grid">
                                    <label class="checkbox-label"><input type="checkbox" value="english" checked> English</label>
                                    <label class="checkbox-label"><input type="checkbox" value="german"> Deutsch</label>
                                    <label class="checkbox-label"><input type="checkbox" value="french"> FranÃ§ais</label>
                                    <label class="checkbox-label"><input type="checkbox" value="spanish"> EspaÃ±ol</label>
                                    <label class="checkbox-label"><input type="checkbox" value="russian"> Ð ÑƒÑÑÐºÐ¸Ð¹</label>
                                    <label class="checkbox-label"><input type="checkbox" value="japanese"> æ—¥æœ¬èªž</label>
                                    <label class="checkbox-label"><input type="checkbox" value="schinese"> ç®€ä½“ä¸­æ–‡</label>
                                    <label class="checkbox-label"><input type="checkbox" value="turkish"> TÃ¼rkÃ§e</label>
                                </div>
                            </div>
                            <button class="btn btn-primary" onclick="ScreenshotCaptioner.generateAll()" style="width:100%"><svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>Caption OluÅŸtur</button>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px;">
                    <div class="panel-header">
                        <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg></div>OluÅŸturulan Caption'lar</div>
                        <div class="panel-actions"><button class="btn btn-success btn-small" onclick="ScreenshotCaptioner.downloadCSV()"><svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>CSV Ä°ndir</button></div>
                    </div>
                    <div class="panel-body" id="screenshot-results">
                        <div class="empty-state small"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/></svg><p>Screenshot yÃ¼kleyin ve caption oluÅŸturun</p></div>
                    </div>
                </div>
            </div>

            <!-- Social Post Generator -->
            <div class="tab-content" id="tab-socialpost">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/></svg></div>Post Ä°Ã§eriÄŸi</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Oyun AdÄ±<span class="required">*</span></label><input type="text" class="form-input" id="social-gameName" placeholder="My Awesome Game"></div>
                            <div class="form-group"><label class="form-label">Post TÃ¼rÃ¼</label>
                                <select class="form-select" id="social-type">
                                    <option value="announcement">Duyuru (Yeni iÃ§erik)</option>
                                    <option value="update">GÃ¼ncelleme</option>
                                    <option value="sale">Ä°ndirim</option>
                                    <option value="milestone">Milestone (BaÅŸarÄ±)</option>
                                    <option value="devlog">Dev Log</option>
                                    <option value="teaser">Teaser</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Konu/Detay</label><textarea class="form-textarea" id="social-details" placeholder="Neyi duyurmak istiyorsunuz? Ana noktalarÄ± yazÄ±n..."></textarea></div>
                            <div class="form-group"><label class="form-label">Ton</label>
                                <select class="form-select" id="social-tone">
                                    <option value="excited">HeyecanlÄ± ðŸŽ‰</option>
                                    <option value="professional">Profesyonel</option>
                                    <option value="casual">Samimi/Casual</option>
                                    <option value="urgent">Acil/FOMO</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="SocialPost.generate()" style="width:100%"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/></svg>Post OluÅŸtur</button>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg></div>Twitter / X</div>
                            <div class="panel-actions"><button class="btn btn-outline btn-small" onclick="SocialPost.copy('twitter')">Kopyala</button></div>
                        </div>
                        <div class="panel-body" id="social-twitter"><div class="empty-state small"><p>Post oluÅŸturun</p></div></div>
                    </div>
                </div>
                <div class="grid-3" style="margin-top:20px;">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></div>Steam Community</div>
                            <div class="panel-actions"><button class="btn btn-outline btn-small" onclick="SocialPost.copy('steam')">Kopyala</button></div>
                        </div>
                        <div class="panel-body" id="social-steam"><div class="empty-state small"><p>Post oluÅŸturun</p></div></div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"/></svg></div>Discord</div>
                            <div class="panel-actions"><button class="btn btn-outline btn-small" onclick="SocialPost.copy('discord')">Kopyala</button></div>
                        </div>
                        <div class="panel-body" id="social-discord"><div class="empty-state small"><p>Post oluÅŸturun</p></div></div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></div>LinkedIn</div>
                            <div class="panel-actions"><button class="btn btn-outline btn-small" onclick="SocialPost.copy('linkedin')">Kopyala</button></div>
                        </div>
                        <div class="panel-body" id="social-linkedin"><div class="empty-state small"><p>Post oluÅŸturun</p></div></div>
                    </div>
                </div>
            </div>

            <!-- Reviews -->
            <div class="tab-content" id="tab-reviews">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div>Yorum Analizi</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Steam App ID<span class="required">*</span></label><input type="text" class="form-input" id="review-appId" placeholder="Ã¶rn: 1245620"></div>
                            <div class="form-group"><label class="form-label">Yorum SayÄ±sÄ±</label><select class="form-select" id="review-count"><option value="20">20</option><option value="50" selected>50</option><option value="100">100</option></select></div>
                            <div class="form-group"><label class="form-label">Filtre</label><select class="form-select" id="review-filter"><option value="all">TÃ¼mÃ¼</option><option value="positive">Pozitif</option><option value="negative">Negatif</option></select></div>
                            <button class="btn btn-primary" onclick="Reviews.analyze()" style="width:100%"><svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>Analiz Et</button>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg></div>AI Ã–nerileri</div></div>
                        <div class="panel-body" id="review-insights"><div class="empty-state"><svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg><h3>Analiz bekleniyor</h3><p>App ID girin ve analiz edin</p></div></div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></div>Ä°statistikler</div></div>
                    <div class="panel-body"><div class="grid-4" id="review-stats"><div class="stat-card"><div class="stat-value" id="stat-total">-</div><div class="stat-label">Toplam</div></div><div class="stat-card"><div class="stat-value" id="stat-positive" style="color:var(--success)">-</div><div class="stat-label">Pozitif</div></div><div class="stat-card"><div class="stat-value" id="stat-negative" style="color:var(--error)">-</div><div class="stat-label">Negatif</div></div><div class="stat-card"><div class="stat-value" id="stat-ratio">-</div><div class="stat-label">Oran</div></div></div></div>
                </div>
            </div>

            <!-- Review Responder -->
            <div class="tab-content" id="tab-reviewresponder">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg></div>Yorum YapÄ±ÅŸtÄ±r</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Oyun AdÄ±</label><input type="text" class="form-input" id="responder-gameName" placeholder="My Awesome Game"></div>
                            <div class="form-group"><label class="form-label">Yorum Tipi</label>
                                <select class="form-select" id="responder-type">
                                    <option value="positive">Pozitif Yorum ðŸ‘</option>
                                    <option value="negative">Negatif Yorum ðŸ‘Ž</option>
                                    <option value="bug">Bug Raporu ðŸ›</option>
                                    <option value="question">Soru â“</option>
                                    <option value="suggestion">Ã–neri ðŸ’¡</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Yorum Metni<span class="required">*</span></label><textarea class="form-textarea large" id="responder-review" placeholder="Oyuncunun yorumunu buraya yapÄ±ÅŸtÄ±rÄ±n..."></textarea></div>
                            <div class="form-group"><label class="form-label">Cevap Tonu</label>
                                <select class="form-select" id="responder-tone">
                                    <option value="friendly">Samimi & YardÄ±msever</option>
                                    <option value="professional">Profesyonel</option>
                                    <option value="apologetic">Ã–zÃ¼r Dileyen</option>
                                    <option value="enthusiastic">HeyecanlÄ±</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="ReviewResponder.generate()" style="width:100%"><svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>Cevap OluÅŸtur</button>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg></div>Ã–nerilen Cevaplar</div></div>
                        <div class="panel-body" id="responder-results">
                            <div class="empty-state"><svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg><h3>Cevap bekleniyor</h3><p>Yorumu yapÄ±ÅŸtÄ±rÄ±n ve cevap oluÅŸturun</p></div>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px;">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg></div>Ä°puÃ§larÄ±</div></div>
                    <div class="panel-body">
                        <div class="grid-4">
                            <div class="insight-card"><div class="insight-title">HÄ±zlÄ± YanÄ±t</div><div class="insight-text">Ä°lk 24 saat iÃ§inde yanÄ±t verin</div></div>
                            <div class="insight-card"><div class="insight-title">KiÅŸiselleÅŸtir</div><div class="insight-text">Oyuncunun adÄ±nÄ± veya bahsettiÄŸi Ã¶zelliÄŸi kullanÄ±n</div></div>
                            <div class="insight-card"><div class="insight-title">Ã‡Ã¶zÃ¼m OdaklÄ±</div><div class="insight-text">Negatif yorumlara somut Ã§Ã¶zÃ¼m sunun</div></div>
                            <div class="insight-card"><div class="insight-title">TeÅŸekkÃ¼r Et</div><div class="insight-text">Hem pozitif hem negatif geri bildirime teÅŸekkÃ¼r edin</div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Competitor Spy -->
            <div class="tab-content" id="tab-competitorspy">
                <div class="panel">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="22" y1="22" x2="18" y2="18"/><circle cx="12" cy="12" r="4"/></svg></div>Rakip Analizi</div></div>
                    <div class="panel-body">
                        <div class="grid-2">
                            <div class="form-group"><label class="form-label">Steam App ID veya URL<span class="required">*</span></label><input type="text" class="form-input" id="spy-appid" placeholder="1234567 veya store.steampowered.com/app/..."></div>
                            <div class="form-group"><label class="form-label">&nbsp;</label><button class="btn btn-primary" onclick="CompetitorSpy.analyze()" style="width:100%;height:42px"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>Analiz Et</button></div>
                        </div>
                    </div>
                </div>
                <div class="grid-2" style="margin-top:20px;">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg></div>Oyun Bilgileri</div></div>
                        <div class="panel-body" id="spy-info">
                            <div class="empty-state"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="22" y1="22" x2="18" y2="18"/></svg><h3>Analiz bekleniyor</h3><p>Steam URL veya App ID girin</p></div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div>Metrikler</div></div>
                        <div class="panel-body" id="spy-metrics">
                            <div class="empty-state"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg><h3>Metrikler</h3><p>Analiz sonrasÄ± gÃ¶rÃ¼ntÃ¼lenir</p></div>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px;">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg></div>KarÅŸÄ±laÅŸtÄ±rma Listesi</div>
                        <div class="panel-actions"><button class="btn btn-secondary btn-small" onclick="CompetitorSpy.clearList()">Listeyi Temizle</button><button class="btn btn-success btn-small" onclick="CompetitorSpy.exportComparison()">CSV Ä°ndir</button></div>
                    </div>
                    <div class="panel-body">
                        <div class="table-wrapper"><table class="data-table" id="spy-table"><thead><tr><th>Oyun</th><th>Fiyat</th><th>Ä°nceleme</th><th>Puan</th><th>Tah. SatÄ±ÅŸ</th><th>Ã‡Ä±kÄ±ÅŸ</th><th>Son GÃ¼ncelleme</th><th></th></tr></thead><tbody id="spy-list"></tbody></table></div>
                    </div>
                </div>
            </div>

            <!-- Launch Checklist -->
            <div class="tab-content" id="tab-launchchecklist">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>Steam YayÄ±n Kontrol Listesi</div>
                            <div class="panel-actions"><button class="btn btn-secondary btn-small" onclick="LaunchChecklist.reset()">SÄ±fÄ±rla</button></div>
                        </div>
                        <div class="panel-body">
                            <div class="checklist-progress"><div class="progress-bar"><div class="progress-fill" id="checklist-progress" style="width:0%"></div></div><span id="checklist-percent">0%</span> tamamlandÄ±</div>
                            <div class="checklist-category">
                                <div class="checklist-category-header"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>MaÄŸaza SayfasÄ±</div>
                                <div class="checklist-items" id="checklist-store"></div>
                            </div>
                            <div class="checklist-category">
                                <div class="checklist-category-header"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>GÃ¶rseller</div>
                                <div class="checklist-items" id="checklist-assets"></div>
                            </div>
                            <div class="checklist-category">
                                <div class="checklist-category-header"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/></svg>Build & Test</div>
                                <div class="checklist-items" id="checklist-build"></div>
                            </div>
                            <div class="checklist-category">
                                <div class="checklist-category-header"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>Pazarlama</div>
                                <div class="checklist-items" id="checklist-marketing"></div>
                            </div>
                            <div class="checklist-category">
                                <div class="checklist-category-header"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>Lansman GÃ¼nÃ¼</div>
                                <div class="checklist-items" id="checklist-launch"></div>
                            </div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></div>Lansman ZamanlamasÄ±</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Planlanan Ã‡Ä±kÄ±ÅŸ Tarihi</label><input type="date" class="form-input" id="launch-date" onchange="LaunchChecklist.updateCountdown()"></div>
                            <div class="countdown-display" id="launch-countdown">
                                <div class="countdown-value">-</div>
                                <div class="countdown-label">GÃ¼n kaldÄ±</div>
                            </div>
                            <div class="launch-tips" id="launch-tips"></div>
                        </div>
                        <div class="panel-header" style="border-top:1px solid var(--border-color);margin-top:16px;padding-top:16px;"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg></div>En Ä°yi Ã‡Ä±kÄ±ÅŸ ZamanlarÄ±</div></div>
                        <div class="panel-body">
                            <div class="tip-card"><strong>ðŸ—“ï¸ GÃ¼n:</strong> SalÄ±, Ã‡arÅŸamba veya PerÅŸembe (hafta ortasÄ±)</div>
                            <div class="tip-card"><strong>â° Saat:</strong> 17:00-19:00 UTC (Avrupa akÅŸam, ABD Ã¶ÄŸlen)</div>
                            <div class="tip-card"><strong>ðŸ“… KaÃ§Ä±nÄ±n:</strong> Pazartesi, Cuma, hafta sonu, Steam Sale dÃ¶nemleri</div>
                            <div class="tip-card"><strong>ðŸŽ® Ä°deal:</strong> BÃ¼yÃ¼k AAA Ã§Ä±kÄ±ÅŸlarÄ±ndan 2+ hafta Ã¶nce/sonra</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Revenue -->
            <div class="tab-content" id="tab-revenue">
                <div class="grid-3">
                    <div class="revenue-card">
                        <div class="revenue-value" id="rev-gross">$0</div>
                        <div class="revenue-label">BrÃ¼t Gelir</div>
                    </div>
                    <div class="revenue-card">
                        <div class="revenue-value" id="rev-net">$0</div>
                        <div class="revenue-label">Net Gelir (Steam %30 sonrasÄ±)</div>
                    </div>
                    <div class="revenue-card">
                        <div class="revenue-value" id="rev-units">0</div>
                        <div class="revenue-label">Tahmini SatÄ±ÅŸ</div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>Gelir HesaplayÄ±cÄ±</div></div>
                    <div class="panel-body">
                        <div class="grid-3">
                            <div class="form-group"><label class="form-label">Oyun FiyatÄ± ($)</label><input type="number" class="form-input" id="rev-price" placeholder="19.99" value="19.99" onchange="Revenue.calculate()"></div>
                            <div class="form-group"><label class="form-label">SatÄ±ÅŸ Adedi</label><input type="number" class="form-input" id="rev-sales" placeholder="1000" value="1000" onchange="Revenue.calculate()"></div>
                            <div class="form-group"><label class="form-label">Ortalama Ä°ndirim %</label><input type="number" class="form-input" id="rev-discount" placeholder="20" value="20" onchange="Revenue.calculate()"></div>
                        </div>
                        <div class="grid-2" style="margin-top:16px">
                            <div class="form-group"><label class="form-label">Ä°ade OranÄ± %</label><input type="number" class="form-input" id="rev-refund" placeholder="10" value="10" onchange="Revenue.calculate()"></div>
                            <div class="form-group"><label class="form-label">BÃ¶lgesel Fiyat FarkÄ± %</label><input type="number" class="form-input" id="rev-regional" placeholder="15" value="15" onchange="Revenue.calculate()"></div>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></div>AylÄ±k Projeksiyon</div></div>
                    <div class="panel-body"><div class="grid-4" id="rev-projection"></div></div>
                </div>
            </div>

            <!-- Wishlist Estimator -->
            <div class="tab-content" id="tab-wishlist">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></div>Wishlist â†’ SatÄ±ÅŸ Tahmini</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Mevcut Wishlist SayÄ±sÄ±<span class="required">*</span></label><input type="number" class="form-input" id="wish-count" placeholder="10000" onchange="Wishlist.estimate()"></div>
                            <div class="form-group"><label class="form-label">Oyun FiyatÄ± ($)</label><input type="number" class="form-input" id="wish-price" placeholder="19.99" value="19.99" onchange="Wishlist.estimate()"></div>
                            <div class="form-group"><label class="form-label">Oyun TÃ¼rÃ¼</label>
                                <select class="form-select" id="wish-type" onchange="Wishlist.estimate()">
                                    <option value="indie">Indie</option>
                                    <option value="aa">AA</option>
                                    <option value="aaa">AAA</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Pazarlama Seviyesi</label>
                                <select class="form-select" id="wish-marketing" onchange="Wishlist.estimate()">
                                    <option value="low">DÃ¼ÅŸÃ¼k</option>
                                    <option value="medium" selected>Orta</option>
                                    <option value="high">YÃ¼ksek</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></div>Tahminler</div></div>
                        <div class="panel-body">
                            <div class="grid-2" id="wish-results">
                                <div class="stat-card"><div class="stat-value" id="wish-launch">-</div><div class="stat-label">Launch Hafta SatÄ±ÅŸÄ±</div></div>
                                <div class="stat-card"><div class="stat-value" id="wish-month">-</div><div class="stat-label">Ä°lk Ay SatÄ±ÅŸÄ±</div></div>
                                <div class="stat-card"><div class="stat-value" id="wish-year">-</div><div class="stat-label">Ä°lk YÄ±l SatÄ±ÅŸÄ±</div></div>
                                <div class="stat-card"><div class="stat-value" id="wish-revenue">-</div><div class="stat-label">Tahmini Gelir</div></div>
                            </div>
                            <div class="insight-card" style="margin-top:16px">
                                <div class="insight-title"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>Bilgi</div>
                                <div class="insight-text">Wishlist â†’ SatÄ±ÅŸ dÃ¶nÃ¼ÅŸÃ¼mÃ¼ genelde %10-20 arasÄ±ndadÄ±r. Bu tahminler ortalama deÄŸerlere dayanÄ±r.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sale Optimizer -->
            <div class="tab-content" id="tab-saleoptimizer">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M12 2v4"/><path d="M12 18v4"/><path d="M4.93 4.93l2.83 2.83"/><path d="M2 12h4"/><path d="M18 12h4"/></svg></div>Oyun Bilgileri</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Oyun FiyatÄ± (USD)<span class="required">*</span></label><input type="number" class="form-input" id="sale-price" placeholder="19.99" value="19.99" step="0.01"></div>
                            <div class="form-group"><label class="form-label">GÃ¼nlÃ¼k Ortalama SatÄ±ÅŸ</label><input type="number" class="form-input" id="sale-dailySales" placeholder="50" value="50"></div>
                            <div class="form-group"><label class="form-label">Oyun YaÅŸÄ±</label>
                                <select class="form-select" id="sale-age">
                                    <option value="new">Yeni (0-3 ay)</option>
                                    <option value="young">GenÃ§ (3-12 ay)</option>
                                    <option value="mature" selected>Olgun (1-3 yÄ±l)</option>
                                    <option value="old">Eski (3+ yÄ±l)</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Son Ä°ndirim</label>
                                <select class="form-select" id="sale-lastSale">
                                    <option value="never">HiÃ§ indirim yapÄ±lmadÄ±</option>
                                    <option value="recent">Son 1 ay iÃ§inde</option>
                                    <option value="medium" selected>1-3 ay Ã¶nce</option>
                                    <option value="long">3+ ay Ã¶nce</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="SaleOptimizer.analyze()" style="width:100%;margin-top:8px;"><svg viewBox="0 0 24 24"><path d="M12 2v4"/><path d="M12 18v4"/><path d="M4.93 4.93l2.83 2.83"/><path d="M2 12h4"/><path d="M18 12h4"/></svg>Ä°ndirim Analizi Yap</button>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></div>YaklaÅŸan Steam Etkinlikleri</div></div>
                        <div class="panel-body" id="sale-events">
                            <div class="sale-event-item"><div class="sale-event-name">ðŸŽ„ Winter Sale</div><div class="sale-event-date">19 AralÄ±k - 2 Ocak</div><div class="sale-event-rating hot">Ã‡ok YÃ¼ksek Trafik</div></div>
                            <div class="sale-event-item"><div class="sale-event-name">ðŸŒ¸ Spring Sale</div><div class="sale-event-date">13-20 Mart 2025</div><div class="sale-event-rating high">YÃ¼ksek Trafik</div></div>
                            <div class="sale-event-item"><div class="sale-event-name">ðŸŽ® Next Fest</div><div class="sale-event-date">24 Åžubat - 3 Mart 2025</div><div class="sale-event-rating medium">Orta (Demo odaklÄ±)</div></div>
                            <div class="sale-event-item"><div class="sale-event-name">â˜€ï¸ Summer Sale</div><div class="sale-event-date">26 Haziran - 10 Temmuz 2025</div><div class="sale-event-rating hot">Ã‡ok YÃ¼ksek Trafik</div></div>
                            <div class="sale-event-item"><div class="sale-event-name">ðŸŽƒ Halloween Sale</div><div class="sale-event-date">28 Ekim - 4 KasÄ±m 2025</div><div class="sale-event-rating high">YÃ¼ksek Trafik</div></div>
                            <div class="sale-event-item"><div class="sale-event-name">ðŸ¦ƒ Autumn Sale</div><div class="sale-event-date">26 KasÄ±m - 3 AralÄ±k 2025</div><div class="sale-event-rating high">YÃ¼ksek Trafik</div></div>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px;">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></div>Ä°ndirim Stratejisi Ã–nerisi</div></div>
                    <div class="panel-body" id="sale-strategy">
                        <div class="empty-state small"><svg viewBox="0 0 24 24"><path d="M12 2v4"/><path d="M12 18v4"/><path d="M4.93 4.93l2.83 2.83"/><path d="M2 12h4"/><path d="M18 12h4"/></svg><p>Analiz iÃ§in yukarÄ±daki bilgileri girin</p></div>
                    </div>
                </div>
                <div class="grid-4" style="margin-top:20px;" id="sale-simulation">
                    <div class="stat-card"><div class="stat-label">%10 Ä°ndirim</div><div class="stat-value" id="sale-sim-10">-</div><div class="stat-sublabel">Tahmini ek satÄ±ÅŸ</div></div>
                    <div class="stat-card"><div class="stat-label">%25 Ä°ndirim</div><div class="stat-value" id="sale-sim-25">-</div><div class="stat-sublabel">Tahmini ek satÄ±ÅŸ</div></div>
                    <div class="stat-card"><div class="stat-label">%50 Ä°ndirim</div><div class="stat-value" id="sale-sim-50">-</div><div class="stat-sublabel">Tahmini ek satÄ±ÅŸ</div></div>
                    <div class="stat-card"><div class="stat-label">%75 Ä°ndirim</div><div class="stat-value" id="sale-sim-75">-</div><div class="stat-sublabel">Tahmini ek satÄ±ÅŸ</div></div>
                </div>
            </div>

            <!-- Regional Pricing -->
            <div class="tab-content" id="tab-regionalpricing">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/></svg></div>Baz Fiyat Ayarla</div>
                        <div class="panel-actions">
                            <button class="btn btn-outline btn-small" onclick="RegionalPricing.useRecommended()">Steam Ã–nerilerini Kullan</button>
                            <button class="btn btn-success btn-small" onclick="RegionalPricing.downloadCSV()"><svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>CSV Ä°ndir</button>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="grid-4">
                            <div class="form-group"><label class="form-label">USD Fiyat<span class="required">*</span></label><input type="number" class="form-input" id="regional-usd" placeholder="19.99" value="19.99" step="0.01" onchange="RegionalPricing.calculate()"></div>
                            <div class="form-group"><label class="form-label">FiyatlandÄ±rma Stratejisi</label>
                                <select class="form-select" id="regional-strategy" onchange="RegionalPricing.calculate()">
                                    <option value="recommended">Steam Ã–nerisi</option>
                                    <option value="ppp">SatÄ±n Alma GÃ¼cÃ¼ (PPP)</option>
                                    <option value="aggressive">Agresif (DÃ¼ÅŸÃ¼k)</option>
                                    <option value="premium">Premium (YÃ¼ksek)</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Yuvarlama</label>
                                <select class="form-select" id="regional-rounding" onchange="RegionalPricing.calculate()">
                                    <option value="99">.99 (19.99)</option>
                                    <option value="95">.95 (19.95)</option>
                                    <option value="00">.00 (20.00)</option>
                                    <option value="none">Yuvarlama Yok</option>
                                </select>
                            </div>
                            <div class="form-group"><label class="form-label">Toplam Pazar</label><div class="stat-value" style="font-size:1.1rem;padding-top:8px;" id="regional-total">$0</div></div>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px;">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg></div>BÃ¶lgesel Fiyatlar</div></div>
                    <div class="panel-body">
                        <div class="regional-grid" id="regional-prices"></div>
                    </div>
                </div>
            </div>

            <!-- Achievements -->
            <div class="tab-content" id="tab-achievements">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg></div>BaÅŸarÄ±m Ekle</div>
                            <div class="panel-actions"><div class="file-input-wrapper"><button class="btn btn-secondary btn-small">CSV YÃ¼kle</button><input type="file" accept=".csv" onchange="Achievements.importCSV(event)"></div></div>
                        </div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">API Name<span class="required">*</span></label><input type="text" class="form-input" id="ach-apiName" placeholder="ACH_WIN_MATCH"></div>
                            <div class="form-group"><label class="form-label">BaÅŸarÄ±m AdÄ± (TR)<span class="required">*</span></label><input type="text" class="form-input" id="ach-name" placeholder="Ä°lk Galibiyet"></div>
                            <div class="form-group"><label class="form-label">AÃ§Ä±klama (TR)<span class="required">*</span></label><textarea class="form-textarea" id="ach-desc" placeholder="Bir maÃ§ kazan"></textarea></div>
                            <button class="btn btn-primary" onclick="Achievements.add()" style="width:100%"><svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Ekle</button>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><path d="M5 8l6 6"/><path d="M4 14l6-6 2-3"/></svg></div>BaÅŸarÄ±mlar</div>
                            <div class="panel-actions">
                                <button class="btn btn-primary btn-small" onclick="Achievements.translateAll()">Ã‡evir</button>
                                <button class="btn btn-success btn-small" onclick="Achievements.exportCSV()">CSV</button>
                            </div>
                        </div>
                        <div class="panel-body"><div class="selection-controls"><span class="selection-info">Toplam: <strong id="ach-count">0</strong></span></div><div id="ach-list" style="max-height:400px;overflow-y:auto;"><div class="empty-state"><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg><h3>BaÅŸarÄ±m yok</h3><p>Ekleyin veya CSV yÃ¼kleyin</p></div></div></div>
                    </div>
                </div>
            </div>

            <!-- Trading Cards -->
            <div class="tab-content" id="tab-tradingcards">
                <div class="grid-2">
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/></svg></div>Trading Card Ekle</div></div>
                        <div class="panel-body">
                            <div class="form-group"><label class="form-label">Kart AdÄ±<span class="required">*</span></label><input type="text" class="form-input" id="card-name" placeholder="Golden Striker"></div>
                            <div class="form-group"><label class="form-label">Kart GÃ¶rseli</label>
                                <div class="upload-zone" id="card-uploadZone" style="padding:20px"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><p>206Ã—184 PNG</p></div>
                                <input type="file" id="card-fileInput" accept="image/*" style="display:none" onchange="TradingCards.previewCard(event)">
                            </div>
                            <button class="btn btn-primary" onclick="TradingCards.add()" style="width:100%"><svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Kart Ekle</button>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/></svg></div>Kartlar (<span id="card-count">0</span>/15)</div>
                            <div class="panel-actions"><button class="btn btn-success btn-small" onclick="TradingCards.downloadAll()">TÃ¼mÃ¼nÃ¼ Ä°ndir</button></div>
                        </div>
                        <div class="panel-body"><div class="grid-3" id="card-list"></div></div>
                    </div>
                </div>
                <div class="panel" style="margin-top:20px">
                    <div class="panel-header"><div class="panel-title"><div class="panel-title-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg></div>Steam Trading Card Gereksinimleri</div></div>
                    <div class="panel-body">
                        <div class="grid-4">
                            <div class="stat-card"><div class="stat-value" style="font-size:1.2rem">5-15</div><div class="stat-label">Kart SayÄ±sÄ±</div></div>
                            <div class="stat-card"><div class="stat-value" style="font-size:1.2rem">206Ã—184</div><div class="stat-label">Kart Boyutu</div></div>
                            <div class="stat-card"><div class="stat-value" style="font-size:1.2rem">PNG</div><div class="stat-label">Format</div></div>
                            <div class="stat-card"><div class="stat-value" style="font-size:1.2rem">5</div><div class="stat-label">Badge Seviyesi</div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings -->
            <div class="tab-content" id="tab-settings">
                <div class="settings-page">
                    <div class="settings-header">
                        <h2>Ayarlar</h2>
                        <p>API anahtarlarinizi ve uygulama tercihlerinizi yonetin</p>
                    </div>

                    <div class="settings-section">
                        <div class="settings-section-title">
                            <svg viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>
                            API Anahtarlari
                        </div>

                        <!-- OpenAI Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon openai">
                                    <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                                </div>
                                <div class="settings-card-info">
                                    <h4>OpenAI API</h4>
                                    <p>Ceviri ve icerik olusturma icin</p>
                                </div>
                                <div class="settings-card-status" id="openaiStatus">
                                    <span class="status-dot"></span>
                                    <span class="status-text">Ayarlanmadi</span>
                                </div>
                            </div>
                            <div class="settings-card-body">
                                <div class="api-key-input-group">
                                    <input type="password" class="form-input" id="settingsOpenAIKey" placeholder="sk-...">
                                    <button class="btn-icon" onclick="Settings.toggleVisibility('settingsOpenAIKey')" title="Goster/Gizle">
                                        <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                                    </button>
                                </div>
                                <div class="settings-card-actions">
                                    <button class="btn btn-primary btn-small" onclick="Settings.saveOpenAI()">
                                        <svg viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                                        Kaydet
                                    </button>
                                    <button class="btn btn-outline btn-small btn-danger" onclick="Settings.clearOpenAI()">
                                        <svg viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                                        Sil
                                    </button>
                                </div>
                                <div class="settings-help">
                                    <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI API Key al &rarr;</a>
                                </div>
                            </div>
                        </div>

                        <!-- Steam Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon steam">
                                    <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/><path d="M13.5 11.5L16 9l3 3-2.5 2.5"/><circle cx="9" cy="12" r="2"/></svg>
                                </div>
                                <div class="settings-card-info">
                                    <h4>Steam Web API</h4>
                                    <p>Oyun verileri ve istatistikler icin</p>
                                </div>
                                <div class="settings-card-status" id="steamStatus">
                                    <span class="status-dot"></span>
                                    <span class="status-text">Ayarlanmadi</span>
                                </div>
                            </div>
                            <div class="settings-card-body">
                                <div class="api-key-input-group">
                                    <input type="password" class="form-input" id="settingsSteamKey" placeholder="Steam API Key...">
                                    <button class="btn-icon" onclick="Settings.toggleVisibility('settingsSteamKey')" title="Goster/Gizle">
                                        <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                                    </button>
                                </div>
                                <div class="settings-card-actions">
                                    <button class="btn btn-primary btn-small" onclick="Settings.saveSteam()">
                                        <svg viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                                        Kaydet
                                    </button>
                                    <button class="btn btn-outline btn-small btn-danger" onclick="Settings.clearSteam()">
                                        <svg viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                                        Sil
                                    </button>
                                </div>
                                <div class="settings-help">
                                    <a href="https://steamcommunity.com/dev/apikey" target="_blank">Steam API Key al &rarr;</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <div class="settings-section-title">
                            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                            Hakkinda
                        </div>
                        <div class="settings-about">
                            <div class="about-logo">
                                <div class="home-logo-icon"><span>LU</span><span>DU</span></div>
                            </div>
                            <div class="about-info">
                                <h4>Ludu Steam Suite</h4>
                                <p>Versiyon 1.0.0</p>
                                <p class="about-copyright">&copy; 2025 Ludu Arts. Tum haklari saklidir.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading & Modals -->
    <div class="loading-overlay" id="loadingOverlay"><div class="loader"></div><div class="loading-text" id="loadingText">Ä°ÅŸleniyor...</div><div class="loading-progress" id="loadingProgress"></div></div>
    <div class="modal-overlay" id="apiKeyModal"><div class="modal"><h2><svg viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>OpenAI API Key</h2><p>Ã‡eviri ve analiz iÃ§in API key gerekli.</p><div class="form-group"><input type="password" class="form-input" id="apiKeyInput" placeholder="sk-..."></div><div class="modal-actions"><button class="btn btn-secondary" onclick="closeApiKeyModal()">Ä°ptal</button><button class="btn btn-primary" onclick="saveApiKey()">Kaydet</button></div></div></div>
    <div class="toast-container" id="toastContainer"></div>

    <script>
        // ==================== GLOBAL ====================
        let apiKey = localStorage.getItem('openai_api_key') || '';
        let currentTool = 'home';

        const toolNames = {
            home: 'Ana Sayfa',
            localization: 'Patch Notes',
            storepage: 'Store Page',
            tags: 'Tag Suggester',
            screenshots: 'Screenshot Captioner',
            reviews: 'Reviews',
            reviewresponder: 'Review Responder',
            revenue: 'Revenue',
            wishlist: 'Wishlist Estimator',
            saleoptimizer: 'Sale Optimizer',
            regionalpricing: 'Regional Pricing',
            competitorspy: 'Competitor Spy',
            launchchecklist: 'Launch Checklist',
            socialpost: 'Social Post Generator',
            achievements: 'Achievements',
            tradingcards: 'Trading Cards',
            settings: 'Ayarlar'
        };

        const toolIcons = {
            home: '<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>',
            localization: '<circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>',
            storepage: '<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/>',
            tags: '<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/>',
            screenshots: '<rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/>',
            reviews: '<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>',
            reviewresponder: '<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>',
            revenue: '<line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>',
            wishlist: '<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>',
            saleoptimizer: '<path d="M12 2v4"/><path d="M12 18v4"/><path d="M4.93 4.93l2.83 2.83"/><path d="M16.24 16.24l2.83 2.83"/><path d="M2 12h4"/><path d="M18 12h4"/><path d="M4.93 19.07l2.83-2.83"/><path d="M16.24 7.76l2.83-2.83"/>',
            regionalpricing: '<circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><path d="M9 12h6"/><path d="M12 9v6"/>',
            competitorspy: '<circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>',
            launchchecklist: '<path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>',
            socialpost: '<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="M22 6l-10 7L2 6"/>',
            achievements: '<circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>',
            tradingcards: '<rect x="2" y="4" width="20" height="16" rx="2"/><path d="M12 8v8"/><path d="M8 12h8"/>',
            settings: '<circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>'
        };

        // ==================== SETTINGS ====================
        const Settings = {
            toggleVisibility(inputId) {
                const input = document.getElementById(inputId);
                input.type = input.type === 'password' ? 'text' : 'password';
            },
            updateStatus(type, hasKey) {
                const statusEl = document.getElementById(`${type}Status`);
                if (hasKey) {
                    statusEl.classList.add('active');
                    statusEl.querySelector('.status-text').textContent = 'Aktif';
                } else {
                    statusEl.classList.remove('active');
                    statusEl.querySelector('.status-text').textContent = 'Ayarlanmadi';
                }
            },
            saveOpenAI() {
                const key = document.getElementById('settingsOpenAIKey').value.trim();
                if (key) {
                    localStorage.setItem('openai_api_key', key);
                    apiKey = key;
                    this.updateStatus('openai', true);
                    showToast('OpenAI API Key kaydedildi', 'success');
                }
            },
            clearOpenAI() {
                localStorage.removeItem('openai_api_key');
                apiKey = '';
                document.getElementById('settingsOpenAIKey').value = '';
                this.updateStatus('openai', false);
                showToast('OpenAI API Key silindi', 'info');
            },
            saveSteam() {
                const key = document.getElementById('settingsSteamKey').value.trim();
                if (key) {
                    localStorage.setItem('steam_api_key', key);
                    this.updateStatus('steam', true);
                    showToast('Steam API Key kaydedildi', 'success');
                }
            },
            clearSteam() {
                localStorage.removeItem('steam_api_key');
                document.getElementById('settingsSteamKey').value = '';
                this.updateStatus('steam', false);
                showToast('Steam API Key silindi', 'info');
            },
            init() {
                const openaiKey = localStorage.getItem('openai_api_key');
                const steamKey = localStorage.getItem('steam_api_key');
                if (openaiKey) {
                    document.getElementById('settingsOpenAIKey').value = openaiKey;
                    this.updateStatus('openai', true);
                }
                if (steamKey) {
                    document.getElementById('settingsSteamKey').value = steamKey;
                    this.updateStatus('steam', true);
                }
            }
        };

        function toggleMenu() {
            document.getElementById('menuBtn').classList.toggle('active');
            document.getElementById('navMenu').classList.toggle('active');
            document.getElementById('navOverlay').classList.toggle('active');
        }

        function switchTool(tool) {
            currentTool = tool;
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(`tab-${tool}`).classList.add('active');
            document.querySelectorAll(`[onclick="switchTool('${tool}')"]`).forEach(el => el.classList.add('active'));
            document.getElementById('currentToolName').textContent = toolNames[tool];
            document.querySelector('.current-tool svg').innerHTML = toolIcons[tool];
            Favorites.render();
            toggleMenu();
        }

        function openApiKeyModal() { document.getElementById('apiKeyModal').classList.add('active'); document.getElementById('apiKeyInput').value = apiKey; }
        function closeApiKeyModal() { document.getElementById('apiKeyModal').classList.remove('active'); }
        function saveApiKey() { apiKey = document.getElementById('apiKeyInput').value.trim(); localStorage.setItem('openai_api_key', apiKey); closeApiKeyModal(); showToast('API key kaydedildi', 'success'); }

        // ==================== FAVORITES ====================
        const Favorites = {
            storageKey: 'steamSuiteFavorites',
            items: [],

            init() {
                this.load();
                this.render();
                this.addStarButtons();
            },

            load() {
                const saved = localStorage.getItem(this.storageKey);
                this.items = saved ? JSON.parse(saved) : [];
            },

            save() {
                localStorage.setItem(this.storageKey, JSON.stringify(this.items));
            },

            toggle(toolId) {
                const idx = this.items.indexOf(toolId);
                if (idx > -1) {
                    this.items.splice(idx, 1);
                } else {
                    this.items.push(toolId);
                }
                this.save();
                this.render();
                this.updateStarButtons();
            },

            isFavorite(toolId) {
                return this.items.includes(toolId);
            },

            render() {
                const container = document.getElementById('favoritesSection');
                if (!this.items.length) {
                    container.innerHTML = '';
                    return;
                }

                let html = '<div class="favorites-title"><svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>Favoriler</div>';
                this.items.forEach(toolId => {
                    if (toolNames[toolId]) {
                        const isActive = currentTool === toolId ? 'active' : '';
                        html += `<div class="nav-item ${isActive}" onclick="switchTool('${toolId}')" style="margin:0 8px 4px;">
                            <svg viewBox="0 0 24 24">${toolIcons[toolId]}</svg>
                            <span class="nav-item-text">${toolNames[toolId]}</span>
                        </div>`;
                    }
                });
                container.innerHTML = html;
            },

            addStarButtons() {
                document.querySelectorAll('.nav-category .nav-item').forEach(item => {
                    const onclick = item.getAttribute('onclick');
                    const match = onclick?.match(/switchTool\('(\w+)'\)/);
                    if (match) {
                        const toolId = match[1];
                        const wrapper = document.createElement('div');
                        wrapper.className = 'nav-item-wrapper';
                        item.parentNode.insertBefore(wrapper, item);
                        wrapper.appendChild(item);

                        const starBtn = document.createElement('button');
                        starBtn.className = `fav-btn ${this.isFavorite(toolId) ? 'active' : ''}`;
                        starBtn.setAttribute('data-tool', toolId);
                        starBtn.innerHTML = '<svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>';
                        starBtn.onclick = (e) => { e.stopPropagation(); this.toggle(toolId); };
                        wrapper.appendChild(starBtn);
                    }
                });
            },

            updateStarButtons() {
                document.querySelectorAll('.fav-btn').forEach(btn => {
                    const toolId = btn.getAttribute('data-tool');
                    btn.classList.toggle('active', this.isFavorite(toolId));
                });
            }
        };

        function showLoading(text = 'Ä°ÅŸleniyor...', progress = '') { document.getElementById('loadingText').textContent = text; document.getElementById('loadingProgress').textContent = progress; document.getElementById('loadingOverlay').classList.add('active'); }
        function hideLoading() { document.getElementById('loadingOverlay').classList.remove('active'); }
        function updateLoadingProgress(text, progress) { document.getElementById('loadingText').textContent = text; document.getElementById('loadingProgress').textContent = progress; }

        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            const icons = { success: '<polyline points="20 6 9 17 4 12"/>', error: '<line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>', info: '<circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>' };
            toast.innerHTML = `<svg viewBox="0 0 24 24">${icons[type]||icons.info}</svg>${message}`;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3500);
        }

        async function callOpenAI(prompt, systemPrompt = '') {
            if (!apiKey) { showToast('API key gerekli', 'error'); openApiKeyModal(); throw new Error('No API key'); }
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-4o-mini',
                        messages: [
                            { role: 'system', content: systemPrompt || 'You are a helpful assistant.' },
                            { role: 'user', content: prompt }
                        ],
                        temperature: 0.3
                    })
                });
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    const errorMsg = errorData.error?.message || `API error: ${response.status}`;
                    showToast(errorMsg, 'error');
                    throw new Error(errorMsg);
                }
                const data = await response.json();
                return data.choices[0].message.content.trim();
            } catch (error) {
                console.error('OpenAI API Error:', error);
                if (!error.message.includes('API')) showToast('BaÄŸlantÄ± hatasÄ±', 'error');
                throw error;
            }
        }

        // ==================== LOCALIZATION ====================
        const Localization = {
            sourceLanguage: 'turkish',
            // Desteklenen Diller (TÃ¼rkÃ§e alfabetik)
            mainLanguages: [
                { code: 'german', name: 'Almanca', nativeName: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },
                { code: 'brazilian', name: 'Brezilya Portekizcesi', nativeName: 'PortuguÃªs-Brasil', flag: 'ðŸ‡§ðŸ‡·' },
                { code: 'bulgarian', name: 'Bulgarca', nativeName: 'Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸', flag: 'ðŸ‡§ðŸ‡¬' },
                { code: 'czech', name: 'Ã‡ekÃ§e', nativeName: 'ÄŒeÅ¡tina', flag: 'ðŸ‡¨ðŸ‡¿' },
                { code: 'danish', name: 'Danca', nativeName: 'Dansk', flag: 'ðŸ‡©ðŸ‡°' },
                { code: 'indonesian', name: 'Endonezce', nativeName: 'Indonesia', flag: 'ðŸ‡®ðŸ‡©' },
                { code: 'finnish', name: 'Fince', nativeName: 'Suomi', flag: 'ðŸ‡«ðŸ‡®' },
                { code: 'french', name: 'FransÄ±zca', nativeName: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' },
                { code: 'dutch', name: 'Hollandaca', nativeName: 'Nederlands', flag: 'ðŸ‡³ðŸ‡±' },
                { code: 'english', name: 'Ä°ngilizce', nativeName: 'English', flag: 'ðŸ‡¬ðŸ‡§' },
                { code: 'swedish', name: 'Ä°sveÃ§Ã§e', nativeName: 'Svenska', flag: 'ðŸ‡¸ðŸ‡ª' },
                { code: 'italian', name: 'Ä°talyanca', nativeName: 'Italiano', flag: 'ðŸ‡®ðŸ‡¹' },
                { code: 'japanese', name: 'Japonca', nativeName: 'æ—¥æœ¬èªž', flag: 'ðŸ‡¯ðŸ‡µ' },
                { code: 'spanish', name: 'Kastilya Ä°spanyolcasÄ±', nativeName: 'EspaÃ±ol-EspaÃ±a', flag: 'ðŸ‡ªðŸ‡¸' },
                { code: 'koreana', name: 'Korece', nativeName: 'í•œêµ­ì–´', flag: 'ðŸ‡°ðŸ‡·' },
                { code: 'latam', name: 'Latin Amerika Ä°spanyolcasÄ±', nativeName: 'EspaÃ±ol-Latam', flag: 'ðŸ‡²ðŸ‡½' },
                { code: 'polish', name: 'LehÃ§e', nativeName: 'Polski', flag: 'ðŸ‡µðŸ‡±' },
                { code: 'hungarian', name: 'Macarca', nativeName: 'Magyar', flag: 'ðŸ‡­ðŸ‡º' },
                { code: 'norwegian', name: 'NorveÃ§Ã§e', nativeName: 'Norsk', flag: 'ðŸ‡³ðŸ‡´' },
                { code: 'portuguese', name: 'Portekizce - Portekiz', nativeName: 'PortuguÃªs', flag: 'ðŸ‡µðŸ‡¹' },
                { code: 'romanian', name: 'Rumence', nativeName: 'RomÃ¢nÄƒ', flag: 'ðŸ‡·ðŸ‡´' },
                { code: 'russian', name: 'RusÃ§a', nativeName: 'Ð ÑƒÑÑÐºÐ¸Ð¹', flag: 'ðŸ‡·ðŸ‡º' },
                { code: 'turkish', name: 'TÃ¼rkÃ§e', nativeName: 'TÃ¼rkÃ§e', flag: 'ðŸ‡¹ðŸ‡·' },
                { code: 'ukrainian', name: 'Ukraynaca', nativeName: 'Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°', flag: 'ðŸ‡ºðŸ‡¦' },
                { code: 'vietnamese', name: 'Vietnamca', nativeName: 'Tiáº¿ng Viá»‡t', flag: 'ðŸ‡»ðŸ‡³' },
                { code: 'greek', name: 'Yunanca', nativeName: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬', flag: 'ðŸ‡¬ðŸ‡·' }
            ],
            // Ek Diller
            extraLanguages: [
                { code: 'schinese', name: 'Ã‡ince - BasitleÅŸtirilmiÅŸ', nativeName: 'ç®€ä½“ä¸­æ–‡', flag: 'ðŸ‡¨ðŸ‡³' },
                { code: 'tchinese', name: 'Ã‡ince - Geleneksel', nativeName: 'ç¹é«”ä¸­æ–‡', flag: 'ðŸ‡¹ðŸ‡¼' },
                { code: 'thai', name: 'Tayca', nativeName: 'à¹„à¸—à¸¢', flag: 'ðŸ‡¹ðŸ‡­' }
            ],
            get languages() {
                return [...this.mainLanguages, ...this.extraLanguages].map(l => ({
                    ...l,
                    isSource: l.code === this.sourceLanguage
                }));
            },
            translations: {},
            selectedLanguages: new Set(),

            init() {
                // Kaynak dil dropdown'Ä±nÄ± doldur
                const sourceSelect = document.getElementById('loc-sourceLanguage');
                sourceSelect.innerHTML = this.languages.map(l =>
                    `<option value="${l.code}" ${l.code === this.sourceLanguage ? 'selected' : ''}>${l.flag} ${l.name}</option>`
                ).join('');

                this.renderLanguages();
            },

            setSourceLanguage(code) {
                this.sourceLanguage = code;
                this.selectedLanguages.delete(code);
                this.renderLanguages();
            },

            renderLanguages() {
                const container = document.getElementById('loc-languagesContainer');
                container.innerHTML = '';

                // Desteklenen Diller baÅŸlÄ±ÄŸÄ±
                const mainHeader = document.createElement('div');
                mainHeader.className = 'language-group-header';
                mainHeader.innerHTML = '<span>Desteklenen Diller</span>';
                mainHeader.style.cssText = 'font-size:0.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px;padding:12px 0 8px;border-bottom:1px solid var(--border);margin-bottom:8px;';
                container.appendChild(mainHeader);

                // Ana diller
                this.mainLanguages.forEach(lang => this.renderLanguageItem(container, lang));

                // Ek Diller baÅŸlÄ±ÄŸÄ±
                const extraHeader = document.createElement('div');
                extraHeader.className = 'language-group-header';
                extraHeader.innerHTML = '<span>Ek Diller</span>';
                extraHeader.style.cssText = 'font-size:0.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px;padding:16px 0 8px;border-bottom:1px solid var(--border);margin-bottom:8px;margin-top:8px;';
                container.appendChild(extraHeader);

                // Ek diller
                this.extraLanguages.forEach(lang => this.renderLanguageItem(container, lang));

                document.getElementById('loc-totalCount').textContent = this.languages.filter(l => !l.isSource).length;
                document.getElementById('loc-selectedCount').textContent = this.selectedLanguages.size;
            },

            renderLanguageItem(container, langData) {
                const lang = { ...langData, isSource: langData.code === this.sourceLanguage };
                this.translations[lang.code] = this.translations[lang.code] || { title: '', subtitle: '', summary: '', body: '' };
                const item = document.createElement('div');
                item.className = `language-item ${lang.isSource ? 'source' : ''} ${this.selectedLanguages.has(lang.code) ? 'selected' : ''}`;
                item.id = `loc-lang-${lang.code}`;
                item.innerHTML = `<div class="language-header"><div class="language-info"><div class="checkbox-wrapper" onclick="event.stopPropagation();${lang.isSource?'':`Localization.toggleSelection('${lang.code}')`}"><input type="checkbox" id="loc-check-${lang.code}" ${lang.isSource?'disabled':''} ${this.selectedLanguages.has(lang.code)?'checked':''}><span class="checkbox-custom"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span></div><span class="language-flag">${lang.flag}</span><span class="language-name">${lang.name}</span><span class="language-code">${lang.nativeName}</span></div><div class="language-status">${!lang.isSource?`<button class="translate-single-btn" onclick="event.stopPropagation();Localization.translateSingle('${lang.code}')">Ã‡evir</button>`:''}<span class="status-badge ${lang.isSource?'source':(this.translations[lang.code]?.body?'translated':'pending')}" id="loc-status-${lang.code}">${lang.isSource?'KAYNAK':(this.translations[lang.code]?.body?'Ã‡EVRÄ°LDÄ°':'BEKLÄ°YOR')}</span><span class="expand-icon" onclick="event.stopPropagation();Localization.toggleExpand('${lang.code}')"><svg viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg></span></div></div><div class="language-content"><div class="language-field"><div class="field-label">BaÅŸlÄ±k</div><div class="field-value" id="loc-preview-${lang.code}-title">${this.translations[lang.code]?.title||''}</div></div><div class="language-field"><div class="field-label">Ä°Ã§erik</div><div class="field-value" id="loc-preview-${lang.code}-body">${this.translations[lang.code]?.body||''}</div></div></div>`;
                container.appendChild(item);
            },

            toggleSelection(code) { const cb = document.getElementById(`loc-check-${code}`); const item = document.getElementById(`loc-lang-${code}`); if (this.selectedLanguages.has(code)) { this.selectedLanguages.delete(code); cb.checked = false; item.classList.remove('selected'); } else { this.selectedLanguages.add(code); cb.checked = true; item.classList.add('selected'); } document.getElementById('loc-selectedCount').textContent = this.selectedLanguages.size; },
            toggleExpand(code) { document.getElementById(`loc-lang-${code}`).classList.toggle('expanded'); },
            selectAll() { this.languages.forEach(l => { if (!l.isSource) { this.selectedLanguages.add(l.code); document.getElementById(`loc-check-${l.code}`).checked = true; document.getElementById(`loc-lang-${l.code}`).classList.add('selected'); } }); document.getElementById('loc-selectedCount').textContent = this.selectedLanguages.size; },
            deselectAll() { this.languages.forEach(l => { if (!l.isSource) { this.selectedLanguages.delete(l.code); document.getElementById(`loc-check-${l.code}`).checked = false; document.getElementById(`loc-lang-${l.code}`).classList.remove('selected'); } }); document.getElementById('loc-selectedCount').textContent = 0; },

            async translateSingle(code) {
                const src = { title: document.getElementById('loc-inputTitle').value.trim(), body: document.getElementById('loc-inputBody').value.trim() };
                if (!src.title || !src.body) { showToast('BaÅŸlÄ±k ve iÃ§erik gerekli', 'error'); return; }
                const lang = this.languages.find(l => l.code === code);
                showLoading(`${lang.name} Ã§evriliyor...`);
                try {
                    const result = await this.translateTo(code, src);
                    this.applyTranslation(code, result);
                    showToast(`${lang.name} Ã§evirildi`, 'success');
                } catch (e) { showToast('Hata: ' + e.message, 'error'); }
                hideLoading();
            },

            async translateSelected() {
                if (this.selectedLanguages.size === 0) { showToast('Dil seÃ§in', 'error'); return; }
                const src = { title: document.getElementById('loc-inputTitle').value.trim(), body: document.getElementById('loc-inputBody').value.trim() };
                if (!src.title || !src.body) { showToast('BaÅŸlÄ±k ve iÃ§erik gerekli', 'error'); return; }
                showLoading('Ã‡eviriliyor...', `0/${this.selectedLanguages.size}`);
                let i = 0, success = 0, failed = [];
                for (const code of this.selectedLanguages) {
                    const lang = this.languages.find(l => l.code === code);
                    updateLoadingProgress(`${lang.name}...`, `${++i}/${this.selectedLanguages.size}`);
                    try { const r = await this.translateTo(code, src); this.applyTranslation(code, r); success++; } catch (e) { console.error(`${lang.name} hatasÄ±:`, e); failed.push(lang.name); }
                }
                hideLoading(); this.deselectAll();
                if (failed.length === 0) { showToast(`${success} dil Ã§evirildi`, 'success'); }
                else { showToast(`${success} baÅŸarÄ±lÄ±, ${failed.length} baÅŸarÄ±sÄ±z: ${failed.join(', ')}`, failed.length === i ? 'error' : 'info'); }
            },

            async translateTo(code, src) {
                const names = {
                    english: 'English',
                    german: 'German',
                    french: 'French',
                    spanish: 'Spanish (Spain)',
                    latam: 'Spanish (Latin America)',
                    russian: 'Russian',
                    japanese: 'Japanese',
                    koreana: 'Korean',
                    korean: 'Korean',
                    schinese: 'Simplified Chinese',
                    tchinese: 'Traditional Chinese',
                    portuguese: 'Portuguese (Portugal)',
                    brazilian: 'Portuguese (Brazil)',
                    italian: 'Italian',
                    polish: 'Polish',
                    dutch: 'Dutch',
                    swedish: 'Swedish',
                    danish: 'Danish',
                    finnish: 'Finnish',
                    norwegian: 'Norwegian',
                    czech: 'Czech',
                    hungarian: 'Hungarian',
                    romanian: 'Romanian',
                    bulgarian: 'Bulgarian',
                    greek: 'Greek',
                    turkish: 'Turkish',
                    ukrainian: 'Ukrainian',
                    vietnamese: 'Vietnamese',
                    indonesian: 'Indonesian',
                    thai: 'Thai'
                };
                const langName = names[code] || code;
                const r = await callOpenAI(`Translate to ${langName}. Keep [p] tags and emojis. Return ONLY valid JSON:\n${JSON.stringify(src)}`, 'You are a translator. Return ONLY a JSON object with format {"title":"translated title","body":"translated body"}. No markdown, no explanation.');
                const cleaned = r.replace(/```json?\n?/g, '').replace(/```\s*$/g, '').trim();
                try { return JSON.parse(cleaned); }
                catch (e) {
                    const match = cleaned.match(/\{[\s\S]*\}/);
                    if (match) return JSON.parse(match[0]);
                    throw new Error(`JSON parse hatasÄ±: ${cleaned.substring(0, 100)}`);
                }
            },

            applyTranslation(code, t) {
                this.translations[code] = t;
                document.getElementById(`loc-preview-${code}-title`).textContent = t.title || '';
                document.getElementById(`loc-preview-${code}-body`).textContent = t.body || '';
                document.getElementById(`loc-status-${code}`).className = 'status-badge translated';
                document.getElementById(`loc-status-${code}`).textContent = 'OK';
                document.getElementById(`loc-lang-${code}`).classList.add('translated');
                this.updateProgress();
            },

            updateProgress() { const t = this.languages.filter(l => !l.isSource); const d = t.filter(l => this.translations[l.code]?.body).length; document.getElementById('loc-progressCount').textContent = `${d}/${t.length}`; document.getElementById('loc-progressFill').style.width = `${(d/t.length)*100}%`; },

            importCSV(e) {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = ev => {
                    try {
                        const lines = ev.target.result.split('\n');
                        const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
                        lines.slice(1).forEach(line => {
                            if (!line.trim()) return;
                            const values = line.match(/(".*?"|[^,]+)/g)?.map(v => v.replace(/^"|"$/g, '').trim()) || [];
                            const lang = values[0];
                            if (lang && this.translations[lang]) {
                                this.translations[lang] = {
                                    title: values[1] || '',
                                    body: values[2] || ''
                                };
                                this.applyTranslation(lang, this.translations[lang]);
                            }
                        });
                        showToast('CSV yÃ¼klendi', 'success');
                    } catch (err) { showToast('CSV okuma hatasÄ±', 'error'); }
                };
                reader.readAsText(file);
                e.target.value = '';
            },

            downloadCSV() {
                const hasData = Object.values(this.translations).some(t => t.title || t.body);
                if (!hasData) { showToast('Ä°ndirilecek veri yok', 'error'); return; }

                let csv = 'language,title,body\n';
                this.languages.forEach(lang => {
                    const t = this.translations[lang.code] || {};
                    const title = (t.title || '').replace(/"/g, '""');
                    const body = (t.body || '').replace(/"/g, '""');
                    csv += `"${lang.code}","${title}","${body}"\n`;
                });

                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = `localization_${new Date().toISOString().slice(0,10)}.csv`;
                a.click();
                URL.revokeObjectURL(a.href);
                showToast('CSV indirildi', 'success');
            }
        };

        // ==================== STORE PAGE ====================
        const StorePage = {
            translations: {},
            async translateAll() {
                const src = { name: document.getElementById('store-gameName').value, short: document.getElementById('store-shortDesc').value, long: document.getElementById('store-longDesc').value };
                if (!src.name || !src.short) { showToast('Oyun adÄ± ve kÄ±sa aÃ§Ä±klama gerekli', 'error'); return; }
                showLoading('Store page Ã§evriliyor...');
                const langs = ['english', 'german', 'french', 'spanish', 'russian', 'japanese'];
                for (const l of langs) {
                    try {
                        const r = await callOpenAI(`Translate to ${l}. JSON:\n${JSON.stringify(src)}`, 'Game store translator');
                        this.translations[l] = JSON.parse(r.replace(/```json?\n?/g, '').replace(/```$/g, ''));
                    } catch (e) {}
                }
                this.renderPreview();
                hideLoading();
                showToast('Ã‡eviri tamamlandÄ±', 'success');
            },
            renderPreview() {
                document.getElementById('store-preview').innerHTML = Object.entries(this.translations).map(([l, t]) => `<div class="insight-card"><div class="insight-title">${l.toUpperCase()}</div><div class="insight-text"><strong>${t.name}</strong><br>${t.short}</div></div>`).join('');
            },
            downloadAll() {
                if (!Object.keys(this.translations).length) { showToast('Ä°ndirilecek veri yok', 'error'); return; }

                let csv = 'language,name,short_description,long_description\n';
                Object.entries(this.translations).forEach(([lang, t]) => {
                    const name = (t.name || '').replace(/"/g, '""');
                    const short = (t.short || '').replace(/"/g, '""');
                    const long = (t.long || '').replace(/"/g, '""');
                    csv += `"${lang}","${name}","${short}","${long}"\n`;
                });

                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = `store_page_${new Date().toISOString().slice(0,10)}.csv`;
                a.click();
                URL.revokeObjectURL(a.href);
                showToast('CSV indirildi', 'success');
            }
        };

        // ==================== TAG SUGGESTER ====================
        const TagSuggester = {
            tags: [],
            selected: new Set(),
            refGames: [],
            tagRanking: [],

            extractAppId(input) {
                const match = input.match(/app\/(\d+)/);
                return match ? match[1] : input.replace(/\D/g, '');
            },

            async addRef() {
                const input = document.getElementById('tag-refInput').value.trim();
                if (!input) { showToast('Link veya App ID girin', 'error'); return; }

                const appId = this.extractAppId(input);
                if (!appId) { showToast('GeÃ§ersiz format', 'error'); return; }
                if (this.refGames.find(g => g.appId === appId)) { showToast('Bu oyun zaten ekli', 'error'); return; }

                showLoading('Oyun bilgisi alÄ±nÄ±yor...');
                try {
                    // Fetch game info from Steam API via CORS proxy
                    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://store.steampowered.com/api/appdetails?appids=${appId}`)}`;
                    const response = await fetch(proxyUrl);
                    const proxyData = await response.json();
                    const data = JSON.parse(proxyData.contents);

                    if (data[appId]?.success) {
                        const game = data[appId].data;
                        this.refGames.push({
                            appId,
                            name: game.name,
                            image: game.header_image,
                            genres: game.genres?.map(g => g.description) || [],
                            categories: game.categories?.map(c => c.description) || []
                        });
                        document.getElementById('tag-refInput').value = '';
                        this.renderRefGames();
                        showToast(`${game.name} eklendi`, 'success');
                    } else {
                        showToast('Oyun bulunamadÄ±', 'error');
                    }
                } catch (e) {
                    console.error(e);
                    showToast('API hatasÄ±, manuel ekleme yapÄ±lÄ±yor', 'info');
                    // Fallback - add with just appId
                    this.refGames.push({ appId, name: `Game #${appId}`, image: null, genres: [], categories: [] });
                    document.getElementById('tag-refInput').value = '';
                    this.renderRefGames();
                }
                hideLoading();
            },

            removeRef(index) {
                this.refGames.splice(index, 1);
                this.renderRefGames();
            },

            clearRefs() {
                this.refGames = [];
                this.tagRanking = [];
                this.renderRefGames();
                document.getElementById('tag-ranking').innerHTML = '<div class="empty-state small"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/></svg><p>Referans oyun ekleyin</p></div>';
                document.getElementById('tag-results').innerHTML = '<div class="empty-state small"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/></svg><p>Analiz yapÄ±n</p></div>';
            },

            renderRefGames() {
                const container = document.getElementById('tag-refList');
                document.getElementById('tag-refCount').textContent = this.refGames.length;

                if (!this.refGames.length) {
                    container.innerHTML = '';
                    return;
                }

                container.innerHTML = this.refGames.map((game, i) => `
                    <div class="ref-game-item">
                        ${game.image ? `<img src="${game.image}" alt="${game.name}">` : '<div style="width:48px;height:22px;background:var(--bg-elevated);border-radius:3px;"></div>'}
                        <div class="ref-game-info">
                            <div class="ref-game-name">${game.name}</div>
                            <div class="ref-game-appid">App ID: ${game.appId}</div>
                        </div>
                        <button class="ref-game-remove" onclick="TagSuggester.removeRef(${i})">
                            <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                        </button>
                    </div>
                `).join('');
            },

            async analyzeAll() {
                const desc = document.getElementById('tag-description').value;
                const genre = document.getElementById('tag-genre').value;

                if (!this.refGames.length && !desc) {
                    showToast('Referans oyun ekleyin veya aÃ§Ä±klama girin', 'error');
                    return;
                }

                showLoading('Tag analizi yapÄ±lÄ±yor...');

                try {
                    // Build context for AI
                    let context = '';
                    if (desc) context += `Oyun aÃ§Ä±klamasÄ±: ${desc}\n`;
                    if (genre) context += `Oyun tÃ¼rÃ¼: ${genre}\n`;

                    if (this.refGames.length) {
                        context += '\nReferans oyunlar:\n';
                        this.refGames.forEach((g, i) => {
                            context += `${i+1}. ${g.name} (App ID: ${g.appId})`;
                            if (g.genres?.length) context += ` - TÃ¼rler: ${g.genres.join(', ')}`;
                            if (g.categories?.length) context += ` - Ã–zellikler: ${g.categories.join(', ')}`;
                            context += '\n';
                        });
                    }

                    const prompt = `Bir Steam oyunu iÃ§in tag analizi yap.

${context}

Bu bilgilere dayanarak:
1. Referans oyunlarÄ±n ortak taglerini analiz et
2. Her tag iÃ§in bir skor hesapla (kaÃ§ oyunda geÃ§tiÄŸi ve ne kadar Ã¶nemli olduÄŸu)
3. Ã–nerilen tagleri sÄ±rala

JSON formatÄ±nda cevap ver:
{
  "ranking": [
    {"tag": "Tag Name", "score": 95, "count": 3, "reason": "Neden Ã¶nemli"}
  ],
  "suggested": ["ek Ã¶neri 1", "ek Ã¶neri 2"]
}

En az 15 tag ranking'de olsun. Score 0-100 arasÄ±, count kaÃ§ referans oyunda geÃ§tiÄŸi.`;

                    const r = await callOpenAI(prompt, 'Sen bir Steam tag uzmanÄ±sÄ±n. OyunlarÄ±n taglerini analiz edip en uygun sÄ±ralamayÄ± oluÅŸturuyorsun.');
                    const result = JSON.parse(r.replace(/```json?\n?/g, '').replace(/```$/g, ''));

                    this.tagRanking = result.ranking || [];
                    this.tags = result.suggested || [];

                    this.renderRanking();
                    this.renderSuggested();

                    showToast('Analiz tamamlandÄ±', 'success');
                } catch (e) {
                    console.error(e);
                    showToast('Analiz hatasÄ±: ' + e.message, 'error');
                }

                hideLoading();
            },

            renderRanking() {
                const container = document.getElementById('tag-ranking');
                if (!this.tagRanking.length) {
                    container.innerHTML = '<div class="empty-state small"><p>SonuÃ§ yok</p></div>';
                    return;
                }

                const maxScore = Math.max(...this.tagRanking.map(t => t.score));
                container.innerHTML = this.tagRanking.map((t, i) => `
                    <div class="tag-rank-item">
                        <div class="tag-rank-pos ${i < 3 ? 'top3' : ''}">${i + 1}</div>
                        <div class="tag-rank-name">${t.tag}</div>
                        <div class="tag-rank-count">${t.count || 0}/${this.refGames.length}</div>
                        <div class="tag-rank-bar"><div class="tag-rank-bar-fill" style="width:${(t.score/maxScore)*100}%"></div></div>
                        <div class="tag-rank-score">${t.score}</div>
                    </div>
                `).join('');
            },

            renderSuggested() {
                const container = document.getElementById('tag-results');
                const allTags = [...this.tagRanking.map(t => t.tag), ...this.tags];

                if (!allTags.length) {
                    container.innerHTML = '<div class="empty-state small"><p>Ã–neri yok</p></div>';
                    return;
                }

                container.innerHTML = `<div class="tag-container">${allTags.map(t =>
                    `<span class="tag ${this.selected.has(t)?'selected':''}" onclick="TagSuggester.toggle('${t.replace(/'/g, "\\'")}')">${t}</span>`
                ).join('')}</div>`;
            },

            toggle(t) {
                if (this.selected.has(t)) this.selected.delete(t);
                else this.selected.add(t);
                this.renderSuggested();
            },

            copySelected() {
                if (!this.selected.size) {
                    // Copy top 20 from ranking if nothing selected
                    const top20 = this.tagRanking.slice(0, 20).map(t => t.tag);
                    navigator.clipboard.writeText(top20.join(', '));
                    showToast('Ä°lk 20 tag kopyalandÄ±', 'success');
                } else {
                    navigator.clipboard.writeText([...this.selected].join(', '));
                    showToast(`${this.selected.size} tag kopyalandÄ±`, 'success');
                }
            }
        };

        // ==================== REVIEWS ====================
        const Reviews = {
            reviews: [],
            async analyze() {
                const appId = document.getElementById('review-appId').value;
                if (!appId) { showToast('App ID girin', 'error'); return; }
                showLoading('Analiz ediliyor...');
                // Demo data
                this.reviews = Array(50).fill(0).map(() => ({ voted_up: Math.random() > 0.3, review: Math.random() > 0.3 ? 'Great game!' : 'Needs improvement', playtime: Math.floor(Math.random()*100) }));
                this.updateStats();
                await this.generateInsights();
                hideLoading();
                showToast('Analiz tamamlandÄ±', 'success');
            },
            updateStats() {
                const t = this.reviews.length, p = this.reviews.filter(r => r.voted_up).length;
                document.getElementById('stat-total').textContent = t;
                document.getElementById('stat-positive').textContent = p;
                document.getElementById('stat-negative').textContent = t - p;
                document.getElementById('stat-ratio').textContent = `%${Math.round(p/t*100)}`;
            },
            async generateInsights() {
                try {
                    const r = await callOpenAI('Analyze these reviews and give 3 insights in Turkish:\n' + this.reviews.slice(0,20).map(r => r.review).join('\n'), 'Game analyst. JSON: [{"title":"","text":""}]');
                    const insights = JSON.parse(r.replace(/```json?\n?/g, '').replace(/```$/g, ''));
                    document.getElementById('review-insights').innerHTML = insights.map(i => `<div class="insight-card"><div class="insight-title"><svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5z"/></svg>${i.title}</div><div class="insight-text">${i.text}</div></div>`).join('');
                } catch (e) {}
            }
        };

        // ==================== REVENUE ====================
        const Revenue = {
            calculate() {
                const price = parseFloat(document.getElementById('rev-price').value) || 0;
                const sales = parseInt(document.getElementById('rev-sales').value) || 0;
                const discount = parseFloat(document.getElementById('rev-discount').value) || 0;
                const refund = parseFloat(document.getElementById('rev-refund').value) || 0;
                const regional = parseFloat(document.getElementById('rev-regional').value) || 0;

                const avgPrice = price * (1 - discount/100) * (1 - regional/100);
                const effectiveSales = sales * (1 - refund/100);
                const gross = avgPrice * effectiveSales;
                const net = gross * 0.7; // Steam 30%

                document.getElementById('rev-gross').textContent = `$${gross.toLocaleString('en-US', {maximumFractionDigits:0})}`;
                document.getElementById('rev-net').textContent = `$${net.toLocaleString('en-US', {maximumFractionDigits:0})}`;
                document.getElementById('rev-units').textContent = Math.round(effectiveSales).toLocaleString();

                // Projection
                const months = ['Ay 1', 'Ay 2', 'Ay 3', 'Ay 6', 'Ay 12'];
                const multipliers = [1, 0.3, 0.15, 0.08, 0.05];
                document.getElementById('rev-projection').innerHTML = months.map((m, i) => `<div class="stat-card"><div class="stat-value" style="font-size:1.3rem">$${Math.round(net * multipliers[i]).toLocaleString()}</div><div class="stat-label">${m}</div></div>`).join('');
            }
        };

        // ==================== WISHLIST ====================
        const Wishlist = {
            estimate() {
                const count = parseInt(document.getElementById('wish-count').value) || 0;
                const price = parseFloat(document.getElementById('wish-price').value) || 19.99;
                const type = document.getElementById('wish-type').value;
                const marketing = document.getElementById('wish-marketing').value;

                const conversionRates = { indie: 0.12, aa: 0.15, aaa: 0.20 };
                const marketingMultipliers = { low: 0.8, medium: 1, high: 1.3 };

                const rate = conversionRates[type] * marketingMultipliers[marketing];
                const launch = Math.round(count * rate * 0.3);
                const month = Math.round(count * rate * 0.5);
                const year = Math.round(count * rate);
                const revenue = year * price * 0.7 * 0.8; // Steam cut + avg discount

                document.getElementById('wish-launch').textContent = launch.toLocaleString();
                document.getElementById('wish-month').textContent = month.toLocaleString();
                document.getElementById('wish-year').textContent = year.toLocaleString();
                document.getElementById('wish-revenue').textContent = `$${Math.round(revenue).toLocaleString()}`;
            }
        };

        // ==================== SALE OPTIMIZER ====================
        const SaleOptimizer = {
            analyze() {
                const price = parseFloat(document.getElementById('sale-price').value) || 19.99;
                const dailySales = parseInt(document.getElementById('sale-dailySales').value) || 50;
                const age = document.getElementById('sale-age').value;
                const lastSale = document.getElementById('sale-lastSale').value;

                // Calculate multipliers based on factors
                const ageMultipliers = { new: 1.2, young: 1.5, mature: 2.0, old: 2.5 };
                const lastSaleMultipliers = { never: 3.0, recent: 1.2, medium: 1.8, long: 2.5 };

                const baseMultiplier = ageMultipliers[age] * lastSaleMultipliers[lastSale];

                // Simulate different discount levels
                const discounts = [10, 25, 50, 75];
                const results = discounts.map(d => {
                    const multiplier = baseMultiplier * (1 + d / 50); // Higher discount = more sales boost
                    const extraSales = Math.round(dailySales * multiplier * 7); // 7 day sale
                    const revenue = extraSales * price * (1 - d / 100) * 0.7; // After Steam cut
                    return { discount: d, extraSales, revenue };
                });

                // Update simulation cards
                results.forEach(r => {
                    document.getElementById(`sale-sim-${r.discount}`).textContent = `+${r.extraSales.toLocaleString()}`;
                });

                // Determine best strategy
                const bestByRevenue = results.reduce((a, b) => a.revenue > b.revenue ? a : b);
                const recommended = age === 'new' ? results[0] : (lastSale === 'never' ? results[1] : bestByRevenue);

                // Generate strategy recommendations
                let strategies = [];

                if (age === 'new') {
                    strategies.push({
                        discount: 10,
                        title: 'Yeni Oyun - KÃ¼Ã§Ã¼k Ä°ndirim',
                        desc: 'Yeni oyunlar iÃ§in %10-15 indirim Ã¶nerilir. DeÄŸer algÄ±sÄ±nÄ± korur ve erken destekÃ§ileri Ã¶dÃ¼llendirir.',
                        recommended: true
                    });
                } else if (lastSale === 'never') {
                    strategies.push({
                        discount: 25,
                        title: 'Ä°lk Ä°ndirim Stratejisi',
                        desc: 'Ä°lk kez indirime giren oyunlar iÃ§in %25 ideal baÅŸlangÄ±Ã§. Wishlist dÃ¶nÃ¼ÅŸÃ¼mÃ¼ yÃ¼ksek olacaktÄ±r.',
                        recommended: true
                    });
                } else {
                    strategies.push({
                        discount: bestByRevenue.discount,
                        title: 'Gelir Optimizasyonu',
                        desc: `Mevcut verilerinize gÃ¶re %${bestByRevenue.discount} indirim en yÃ¼ksek geliri saÄŸlayacak.`,
                        recommended: true
                    });
                }

                strategies.push({
                    discount: 50,
                    title: 'Agresif SatÄ±ÅŸ',
                    desc: 'BÃ¼yÃ¼k indirimler (â‰¥%50) hacim odaklÄ±dÄ±r. Daha Ã§ok oyuncu kazanÄ±r ama birim gelir dÃ¼ÅŸer.',
                    recommended: false
                });

                if (age === 'old') {
                    strategies.push({
                        discount: 75,
                        title: 'Katalog TemizliÄŸi',
                        desc: 'Eski oyunlar iÃ§in %75+ indirim yeni oyuncu kazandÄ±rÄ±r ve franchise bilinirliÄŸi artÄ±rÄ±r.',
                        recommended: false
                    });
                }

                // Render strategies
                document.getElementById('sale-strategy').innerHTML = strategies.map(s => `
                    <div class="sale-strategy-card ${s.recommended ? 'recommended' : ''}">
                        <div class="sale-strategy-header">
                            <div>
                                <div class="sale-strategy-title">${s.title}</div>
                                <div class="sale-strategy-desc">${s.desc}</div>
                            </div>
                            <div class="sale-strategy-discount">%${s.discount}</div>
                        </div>
                        <div class="sale-strategy-stats">
                            <div class="sale-strategy-stat">
                                <div class="sale-strategy-stat-value">+${results.find(r => r.discount === s.discount)?.extraSales.toLocaleString() || '-'}</div>
                                <div class="sale-strategy-stat-label">Tahmini SatÄ±ÅŸ</div>
                            </div>
                            <div class="sale-strategy-stat">
                                <div class="sale-strategy-stat-value">$${Math.round(results.find(r => r.discount === s.discount)?.revenue || 0).toLocaleString()}</div>
                                <div class="sale-strategy-stat-label">Tahmini Gelir</div>
                            </div>
                            <div class="sale-strategy-stat">
                                <div class="sale-strategy-stat-value">$${(price * (1 - s.discount / 100)).toFixed(2)}</div>
                                <div class="sale-strategy-stat-label">Ä°ndirimli Fiyat</div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        };

        // ==================== REGIONAL PRICING ====================
        const RegionalPricing = {
            regions: [
                { code: 'US', name: 'United States', flag: 'ðŸ‡ºðŸ‡¸', currency: 'USD', rate: 1.00, symbol: '$' },
                { code: 'EU', name: 'European Union', flag: 'ðŸ‡ªðŸ‡º', currency: 'EUR', rate: 0.85, symbol: 'â‚¬' },
                { code: 'GB', name: 'United Kingdom', flag: 'ðŸ‡¬ðŸ‡§', currency: 'GBP', rate: 0.73, symbol: 'Â£' },
                { code: 'TR', name: 'Turkey', flag: 'ðŸ‡¹ðŸ‡·', currency: 'TRY', rate: 0.25, symbol: 'â‚º' },
                { code: 'RU', name: 'Russia', flag: 'ðŸ‡·ðŸ‡º', currency: 'RUB', rate: 0.20, symbol: 'â‚½' },
                { code: 'BR', name: 'Brazil', flag: 'ðŸ‡§ðŸ‡·', currency: 'BRL', rate: 0.35, symbol: 'R$' },
                { code: 'CN', name: 'China', flag: 'ðŸ‡¨ðŸ‡³', currency: 'CNY', rate: 0.50, symbol: 'Â¥' },
                { code: 'JP', name: 'Japan', flag: 'ðŸ‡¯ðŸ‡µ', currency: 'JPY', rate: 0.95, symbol: 'Â¥' },
                { code: 'KR', name: 'South Korea', flag: 'ðŸ‡°ðŸ‡·', currency: 'KRW', rate: 0.85, symbol: 'â‚©' },
                { code: 'IN', name: 'India', flag: 'ðŸ‡®ðŸ‡³', currency: 'INR', rate: 0.25, symbol: 'â‚¹' },
                { code: 'MX', name: 'Mexico', flag: 'ðŸ‡²ðŸ‡½', currency: 'MXN', rate: 0.45, symbol: '$' },
                { code: 'AR', name: 'Argentina', flag: 'ðŸ‡¦ðŸ‡·', currency: 'ARS', rate: 0.15, symbol: '$' },
                { code: 'PL', name: 'Poland', flag: 'ðŸ‡µðŸ‡±', currency: 'PLN', rate: 0.70, symbol: 'zÅ‚' },
                { code: 'AU', name: 'Australia', flag: 'ðŸ‡¦ðŸ‡º', currency: 'AUD', rate: 1.10, symbol: 'A$' },
                { code: 'CA', name: 'Canada', flag: 'ðŸ‡¨ðŸ‡¦', currency: 'CAD', rate: 0.95, symbol: 'C$' },
                { code: 'NZ', name: 'New Zealand', flag: 'ðŸ‡³ðŸ‡¿', currency: 'NZD', rate: 1.05, symbol: 'NZ$' },
                { code: 'NO', name: 'Norway', flag: 'ðŸ‡³ðŸ‡´', currency: 'NOK', rate: 0.95, symbol: 'kr' },
                { code: 'UA', name: 'Ukraine', flag: 'ðŸ‡ºðŸ‡¦', currency: 'UAH', rate: 0.20, symbol: 'â‚´' },
                { code: 'ID', name: 'Indonesia', flag: 'ðŸ‡®ðŸ‡©', currency: 'IDR', rate: 0.35, symbol: 'Rp' },
                { code: 'PH', name: 'Philippines', flag: 'ðŸ‡µðŸ‡­', currency: 'PHP', rate: 0.40, symbol: 'â‚±' },
                { code: 'TH', name: 'Thailand', flag: 'ðŸ‡¹ðŸ‡­', currency: 'THB', rate: 0.50, symbol: 'à¸¿' },
                { code: 'VN', name: 'Vietnam', flag: 'ðŸ‡»ðŸ‡³', currency: 'VND', rate: 0.30, symbol: 'â‚«' },
                { code: 'SA', name: 'Saudi Arabia', flag: 'ðŸ‡¸ðŸ‡¦', currency: 'SAR', rate: 0.90, symbol: 'SR' },
                { code: 'ZA', name: 'South Africa', flag: 'ðŸ‡¿ðŸ‡¦', currency: 'ZAR', rate: 0.50, symbol: 'R' },
                { code: 'CL', name: 'Chile', flag: 'ðŸ‡¨ðŸ‡±', currency: 'CLP', rate: 0.45, symbol: '$' },
                { code: 'CO', name: 'Colombia', flag: 'ðŸ‡¨ðŸ‡´', currency: 'COP', rate: 0.35, symbol: '$' },
                { code: 'PE', name: 'Peru', flag: 'ðŸ‡µðŸ‡ª', currency: 'PEN', rate: 0.50, symbol: 'S/' },
                { code: 'MY', name: 'Malaysia', flag: 'ðŸ‡²ðŸ‡¾', currency: 'MYR', rate: 0.55, symbol: 'RM' },
                { code: 'SG', name: 'Singapore', flag: 'ðŸ‡¸ðŸ‡¬', currency: 'SGD', rate: 0.90, symbol: 'S$' },
                { code: 'HK', name: 'Hong Kong', flag: 'ðŸ‡­ðŸ‡°', currency: 'HKD', rate: 0.85, symbol: 'HK$' },
                { code: 'TW', name: 'Taiwan', flag: 'ðŸ‡¹ðŸ‡¼', currency: 'TWD', rate: 0.75, symbol: 'NT$' },
                { code: 'IL', name: 'Israel', flag: 'ðŸ‡®ðŸ‡±', currency: 'ILS', rate: 0.85, symbol: 'â‚ª' },
                { code: 'AE', name: 'UAE', flag: 'ðŸ‡¦ðŸ‡ª', currency: 'AED', rate: 0.90, symbol: 'Ø¯.Ø¥' },
                { code: 'KZ', name: 'Kazakhstan', flag: 'ðŸ‡°ðŸ‡¿', currency: 'KZT', rate: 0.25, symbol: 'â‚¸' },
                { code: 'PK', name: 'Pakistan', flag: 'ðŸ‡µðŸ‡°', currency: 'PKR', rate: 0.20, symbol: 'â‚¨' }
            ],
            prices: {},

            init() {
                this.calculate();
            },

            calculate() {
                const usdPrice = parseFloat(document.getElementById('regional-usd').value) || 19.99;
                const strategy = document.getElementById('regional-strategy').value;
                const rounding = document.getElementById('regional-rounding').value;

                const strategyMultipliers = {
                    recommended: 1.0,
                    ppp: 0.9,
                    aggressive: 0.75,
                    premium: 1.15
                };

                const multiplier = strategyMultipliers[strategy];
                let totalMarketValue = 0;

                this.regions.forEach(region => {
                    let price = usdPrice * region.rate * multiplier;
                    price = this.applyRounding(price, rounding);
                    this.prices[region.code] = { usd: price, local: price / region.rate * (region.currency === 'JPY' ? 150 : region.currency === 'KRW' ? 1300 : 1) };
                    totalMarketValue += price;
                });

                document.getElementById('regional-total').textContent = `$${totalMarketValue.toFixed(0)}`;
                this.render();
            },

            applyRounding(price, type) {
                if (type === 'none') return Math.round(price * 100) / 100;
                const base = Math.floor(price);
                const endings = { '99': 0.99, '95': 0.95, '00': 0 };
                return base + (endings[type] || 0.99);
            },

            useRecommended() {
                document.getElementById('regional-strategy').value = 'recommended';
                this.calculate();
                showToast('Steam Ã¶nerileri uygulandÄ±', 'success');
            },

            render() {
                const usdBase = parseFloat(document.getElementById('regional-usd').value) || 19.99;
                const container = document.getElementById('regional-prices');

                container.innerHTML = this.regions.map(region => {
                    const price = this.prices[region.code]?.usd || 0;
                    const diff = ((price - usdBase) / usdBase * 100).toFixed(0);
                    const diffClass = diff < -5 ? 'lower' : diff > 5 ? 'higher' : 'same';
                    const diffText = diff > 0 ? `+${diff}%` : `${diff}%`;

                    return `
                        <div class="regional-item">
                            <div class="regional-item-header">
                                <div class="regional-item-country">
                                    <span class="regional-item-flag">${region.flag}</span>
                                    <div>
                                        <div class="regional-item-name">${region.name}</div>
                                        <div class="regional-item-code">${region.currency}</div>
                                    </div>
                                </div>
                                <span class="regional-item-diff ${diffClass}">${diffText}</span>
                            </div>
                            <div class="regional-item-price">$${price.toFixed(2)}</div>
                        </div>
                    `;
                }).join('');
            },

            downloadCSV() {
                if (!Object.keys(this.prices).length) {
                    showToast('Ã–nce fiyat hesaplayÄ±n', 'error');
                    return;
                }

                let csv = 'country_code,country_name,currency,price_usd,price_local\n';
                this.regions.forEach(region => {
                    const p = this.prices[region.code];
                    csv += `"${region.code}","${region.name}","${region.currency}","${p?.usd?.toFixed(2) || ''}","${region.symbol}${Math.round(p?.local || 0)}"\n`;
                });

                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = `regional_pricing_${new Date().toISOString().slice(0,10)}.csv`;
                a.click();
                URL.revokeObjectURL(a.href);
                showToast('CSV indirildi', 'success');
            }
        };

        // ==================== ACHIEVEMENTS ====================
        const Achievements = {
            items: [],
            add() {
                const api = document.getElementById('ach-apiName').value;
                const name = document.getElementById('ach-name').value;
                const desc = document.getElementById('ach-desc').value;
                if (!api || !name || !desc) { showToast('TÃ¼m alanlar gerekli', 'error'); return; }
                this.items.push({ apiName: api, name: { turkish: name }, desc: { turkish: desc } });
                document.getElementById('ach-apiName').value = '';
                document.getElementById('ach-name').value = '';
                document.getElementById('ach-desc').value = '';
                this.render();
                showToast('Eklendi', 'success');
            },
            render() {
                document.getElementById('ach-count').textContent = this.items.length;
                if (!this.items.length) { document.getElementById('ach-list').innerHTML = '<div class="empty-state"><h3>BaÅŸarÄ±m yok</h3></div>'; return; }
                document.getElementById('ach-list').innerHTML = this.items.map((a, i) => `<div class="achievement-item"><div class="achievement-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg></div><div class="achievement-info"><div class="achievement-name">${a.name.turkish}</div><div class="achievement-desc">${a.desc.turkish}</div></div><button class="btn btn-outline btn-small" onclick="Achievements.remove(${i})">Ã—</button></div>`).join('');
            },
            remove(i) { this.items.splice(i, 1); this.render(); },

            async translateAll() {
                if (!this.items.length) { showToast('BaÅŸarÄ±m yok', 'error'); return; }
                showLoading('Ã‡evriliyor...', `0/${this.items.length}`);
                const langs = ['english', 'german', 'french', 'spanish', 'russian', 'japanese'];
                for (let i = 0; i < this.items.length; i++) {
                    updateLoadingProgress(`BaÅŸarÄ±m ${i+1}...`, `${i+1}/${this.items.length}`);
                    try {
                        const src = { name: this.items[i].name.turkish, desc: this.items[i].desc.turkish };
                        for (const lang of langs) {
                            const r = await callOpenAI(`Translate to ${lang}. JSON: ${JSON.stringify(src)}`, 'Game achievement translator. Return {"name":"","desc":""}');
                            const t = JSON.parse(r.replace(/```json?\n?/g, '').replace(/```$/g, ''));
                            this.items[i].name[lang] = t.name;
                            this.items[i].desc[lang] = t.desc;
                        }
                    } catch (e) { console.error(e); }
                }
                hideLoading();
                showToast('TÃ¼m baÅŸarÄ±mlar Ã§evirildi', 'success');
            },

            importCSV(e) {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = ev => {
                    try {
                        const lines = ev.target.result.split('\n');
                        lines.slice(1).forEach(line => {
                            if (!line.trim()) return;
                            const values = line.match(/(".*?"|[^,]+)/g)?.map(v => v.replace(/^"|"$/g, '').trim()) || [];
                            if (values.length >= 3) {
                                this.items.push({
                                    apiName: values[0],
                                    name: { turkish: values[1] },
                                    desc: { turkish: values[2] }
                                });
                            }
                        });
                        this.render();
                        showToast(`${this.items.length} baÅŸarÄ±m yÃ¼klendi`, 'success');
                    } catch (err) { showToast('CSV okuma hatasÄ±', 'error'); }
                };
                reader.readAsText(file);
                e.target.value = '';
            },

            exportCSV() {
                if (!this.items.length) { showToast('Ä°ndirilecek veri yok', 'error'); return; }

                // Get all languages from first item
                const langs = Object.keys(this.items[0]?.name || { turkish: '' });
                let csv = 'api_name,' + langs.map(l => `name_${l},desc_${l}`).join(',') + '\n';

                this.items.forEach(item => {
                    let row = `"${item.apiName}"`;
                    langs.forEach(lang => {
                        const name = (item.name[lang] || '').replace(/"/g, '""');
                        const desc = (item.desc[lang] || '').replace(/"/g, '""');
                        row += `,"${name}","${desc}"`;
                    });
                    csv += row + '\n';
                });

                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = `achievements_${new Date().toISOString().slice(0,10)}.csv`;
                a.click();
                URL.revokeObjectURL(a.href);
                showToast('CSV indirildi', 'success');
            }
        };

        // ==================== TRADING CARDS ====================
        const TradingCards = {
            cards: [],
            currentImage: null,

            init() {
                const zone = document.getElementById('card-uploadZone');
                const input = document.getElementById('card-fileInput');
                zone.onclick = () => input.click();
            },

            previewCard(e) {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = ev => {
                    this.currentImage = ev.target.result;
                    document.getElementById('card-uploadZone').innerHTML = `<img src="${ev.target.result}" style="max-height:100px;border-radius:4px;">`;
                };
                reader.readAsDataURL(file);
            },

            add() {
                const name = document.getElementById('card-name').value;
                if (!name) { showToast('Kart adÄ± girin', 'error'); return; }
                this.cards.push({ name, image: this.currentImage });
                document.getElementById('card-name').value = '';
                this.currentImage = null;
                document.getElementById('card-uploadZone').innerHTML = '<svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><p>206Ã—184 PNG</p>';
                this.render();
                showToast('Kart eklendi', 'success');
            },

            render() {
                document.getElementById('card-count').textContent = this.cards.length;
                if (!this.cards.length) { document.getElementById('card-list').innerHTML = ''; return; }
                document.getElementById('card-list').innerHTML = this.cards.map((c, i) => `
                    <div class="card-preview">
                        ${c.image ? `<img src="${c.image}" style="height:92px;">` : '<div class="card-preview-placeholder"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div>'}
                        <p style="font-size:0.8rem;">${c.name}</p>
                        <div style="display:flex;gap:4px;margin-top:4px;">
                            <button class="btn btn-outline btn-small" onclick="TradingCards.download(${i})" ${!c.image ? 'disabled' : ''}>Ä°ndir</button>
                            <button class="btn btn-outline btn-small" onclick="TradingCards.remove(${i})">Ã—</button>
                        </div>
                    </div>
                `).join('');
            },

            remove(i) { this.cards.splice(i, 1); this.render(); },

            download(i) {
                const card = this.cards[i];
                if (!card || !card.image) { showToast('GÃ¶rsel yok', 'error'); return; }

                // Create canvas to resize to 206x184
                const img = new Image();
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = 206;
                    canvas.height = 184;
                    const ctx = canvas.getContext('2d');

                    // Center crop
                    const srcR = img.width / img.height;
                    const dstR = 206 / 184;
                    let sx, sy, sw, sh;
                    if (srcR > dstR) {
                        sh = img.height; sw = sh * dstR;
                        sx = (img.width - sw) / 2; sy = 0;
                    } else {
                        sw = img.width; sh = sw / dstR;
                        sx = 0; sy = (img.height - sh) / 2;
                    }
                    ctx.drawImage(img, sx, sy, sw, sh, 0, 0, 206, 184);

                    const a = document.createElement('a');
                    a.href = canvas.toDataURL('image/png');
                    a.download = `${card.name.toLowerCase().replace(/\s+/g, '_')}_206x184.png`;
                    a.click();
                };
                img.src = card.image;
            },

            downloadAll() {
                const cardsWithImages = this.cards.filter(c => c.image);
                if (!cardsWithImages.length) { showToast('Ä°ndirilecek gÃ¶rsel yok', 'error'); return; }

                showToast(`${cardsWithImages.length} kart indiriliyor...`, 'info');
                cardsWithImages.forEach((_, i) => {
                    const cardIndex = this.cards.findIndex(c => c === cardsWithImages[i]);
                    setTimeout(() => this.download(cardIndex), i * 300);
                });
            }
        };

        // ==================== SCREENSHOT CAPTIONER ====================
        const ScreenshotCaptioner = {
            screenshots: [],

            upload(e) {
                const files = Array.from(e.target.files);
                files.forEach(file => {
                    const reader = new FileReader();
                    reader.onload = ev => {
                        this.screenshots.push({ image: ev.target.result, caption: '', name: file.name });
                        this.render();
                    };
                    reader.readAsDataURL(file);
                });
            },

            render() {
                document.getElementById('screenshot-count').textContent = this.screenshots.length;
                const container = document.getElementById('screenshot-list');
                if (!this.screenshots.length) {
                    container.innerHTML = '<div class="empty-state"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><h3>Screenshot yok</h3><p>GÃ¶rsel yÃ¼kleyin</p></div>';
                    return;
                }
                container.innerHTML = this.screenshots.map((s, i) => `
                    <div class="screenshot-item">
                        <img src="${s.image}" class="screenshot-img">
                        <div class="screenshot-caption">
                            <textarea placeholder="Caption girilecek..." onchange="ScreenshotCaptioner.updateCaption(${i}, this.value)">${s.caption}</textarea>
                            <div class="screenshot-actions">
                                <button class="btn btn-outline btn-small" onclick="ScreenshotCaptioner.remove(${i})">Sil</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            },

            updateCaption(i, caption) { this.screenshots[i].caption = caption; },
            remove(i) { this.screenshots.splice(i, 1); this.render(); },

            async generateAll() {
                if (!apiKey) { showToast('API key gerekli', 'error'); openApiKeyModal(); return; }
                if (!this.screenshots.length) { showToast('Screenshot yÃ¼kleyin', 'error'); return; }

                const gameName = document.getElementById('screenshot-gamename').value || 'Game';
                const style = document.getElementById('screenshot-style').value;
                const stylePrompts = {
                    descriptive: 'Write a descriptive, engaging caption',
                    action: 'Write an action-packed, exciting caption',
                    minimal: 'Write a minimal, concise caption (max 5 words)',
                    funny: 'Write a funny, witty caption'
                };

                showToast('Captionlar oluÅŸturuluyor...', 'info');

                for (let i = 0; i < this.screenshots.length; i++) {
                    try {
                        const res = await fetch('/api/openai', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                apiKey: `Bearer ${apiKey}`,
                                body: {
                                    model: 'gpt-4o-mini',
                                    messages: [{
                                        role: 'user',
                                        content: [
                                            { type: 'text', text: `${stylePrompts[style]} for this screenshot from the game "${gameName}". Only respond with the caption text, nothing else.` },
                                            { type: 'image_url', image_url: { url: this.screenshots[i].image } }
                                        ]
                                    }],
                                    max_tokens: 100
                                }
                            })
                        });
                        const data = await res.json();
                        this.screenshots[i].caption = data.choices[0].message.content.trim();
                    } catch (err) {
                        console.error(err);
                    }
                }
                this.render();
                showToast('Captionlar oluÅŸturuldu!', 'success');
            },

            exportCSV() {
                if (!this.screenshots.length) { showToast('Screenshot yok', 'error'); return; }
                const BOM = '\uFEFF';
                const rows = [['Filename', 'Caption']];
                this.screenshots.forEach(s => rows.push([s.name, s.caption]));
                const csv = rows.map(r => r.map(c => `"${(c||'').replace(/"/g, '""')}"`).join(',')).join('\n');
                const blob = new Blob([BOM + csv], { type: 'text/csv;charset=utf-8;' });
                const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
                a.download = 'screenshot_captions.csv'; a.click();
                showToast('CSV indirildi', 'success');
            }
        };

        // ==================== SOCIAL POST GENERATOR ====================
        const SocialPost = {
            platforms: {
                twitter: { name: 'X/Twitter', limit: 280, icon: 'ð•' },
                instagram: { name: 'Instagram', limit: 2200, icon: 'ðŸ“·' },
                facebook: { name: 'Facebook', limit: 63206, icon: 'ðŸ“˜' },
                linkedin: { name: 'LinkedIn', limit: 3000, icon: 'ðŸ’¼' },
                tiktok: { name: 'TikTok', limit: 2200, icon: 'ðŸŽµ' },
                youtube: { name: 'YouTube', limit: 5000, icon: 'â–¶ï¸' }
            },
            currentPlatform: 'twitter',
            generatedPosts: {},

            selectPlatform(platform) {
                this.currentPlatform = platform;
                document.querySelectorAll('.platform-tab').forEach(t => t.classList.remove('active'));
                document.querySelector(`[data-platform="${platform}"]`).classList.add('active');
                this.showPreview();
            },

            showPreview() {
                const previewEl = document.getElementById('social-preview');
                if (!previewEl) return; // Element yoksa atla
                const content = this.generatedPosts[this.currentPlatform] || '';
                const limit = this.platforms[this.currentPlatform].limit;
                const charClass = content.length > limit ? 'error' : (content.length > limit * 0.9 ? 'warning' : '');
                previewEl.innerHTML = `
                    <div class="post-preview">
                        <div class="post-preview-header">
                            <div class="post-preview-avatar">${this.platforms[this.currentPlatform].icon}</div>
                            <div><strong>${this.platforms[this.currentPlatform].name}</strong></div>
                        </div>
                        <div class="post-preview-content" id="social-content">${content || '<span style="color:var(--text-muted)">Post oluÅŸturulacak...</span>'}</div>
                        <div class="post-char-count ${charClass}">${content.length}/${limit}</div>
                    </div>
                    ${content ? `<button class="btn btn-outline btn-small" style="margin-top:10px" onclick="SocialPost.copy()">Kopyala</button>` : ''}
                `;
            },

            async generate() {
                if (!apiKey) { showToast('API key gerekli', 'error'); openApiKeyModal(); return; }

                const gameName = document.getElementById('social-gamename').value;
                const postType = document.getElementById('social-type').value;
                const tone = document.getElementById('social-tone').value;
                const extra = document.getElementById('social-extra').value;

                if (!gameName) { showToast('Oyun adÄ± girin', 'error'); return; }

                const typeLabels = { launch: 'game launch announcement', update: 'game update announcement', event: 'in-game event', sale: 'sale/discount', milestone: 'milestone celebration', teaser: 'teaser/coming soon' };
                const toneLabels = { excited: 'excited and energetic', professional: 'professional', casual: 'casual and friendly', urgent: 'urgent/FOMO-inducing' };

                showToast('Postlar oluÅŸturuluyor...', 'info');

                for (const [platform, info] of Object.entries(this.platforms)) {
                    try {
                        const res = await fetch('/api/openai', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                apiKey: `Bearer ${apiKey}`,
                                body: {
                                    model: 'gpt-4o-mini',
                                    messages: [{ role: 'user', content: `Write a ${toneLabels[tone]} ${typeLabels[postType]} post for the game "${gameName}" optimized for ${info.name}. Max ${info.limit} chars. ${extra ? 'Additional info: ' + extra : ''} Include relevant hashtags and emojis. Only respond with the post text.` }],
                                    max_tokens: 500
                                }
                            })
                        });
                        const data = await res.json();
                        this.generatedPosts[platform] = data.choices[0].message.content.trim();
                    } catch (err) { console.error(err); }
                }

                this.showPreview();
                showToast('Postlar hazÄ±r!', 'success');
            },

            copy() {
                const content = this.generatedPosts[this.currentPlatform];
                navigator.clipboard.writeText(content);
                showToast('KopyalandÄ±!', 'success');
            }
        };

        // ==================== REVIEW RESPONDER ====================
        const ReviewResponder = {
            responses: [],

            async generate() {
                if (!apiKey) { showToast('API key gerekli', 'error'); openApiKeyModal(); return; }

                const gameName = document.getElementById('responder-gameName').value || 'our game';
                const reviewType = document.getElementById('responder-type').value;
                const reviewText = document.getElementById('responder-review').value;
                const tone = document.getElementById('responder-tone').value;

                if (!reviewText) { showToast('Yorum metni girin', 'error'); return; }

                const typeLabels = { positive: 'positive', negative: 'negative', bug: 'bug report', question: 'question', suggestion: 'feature suggestion' };
                const toneLabels = { friendly: 'friendly and helpful', professional: 'professional', apologetic: 'apologetic and understanding', enthusiastic: 'enthusiastic and grateful' };

                showToast('Cevaplar oluÅŸturuluyor...', 'info');

                try {
                    const res = await fetch('/api/openai', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            apiKey: `Bearer ${apiKey}`,
                            body: {
                                model: 'gpt-4o-mini',
                                messages: [{ role: 'user', content: `You are a game developer responding to a ${typeLabels[reviewType]} Steam review for "${gameName}". Write 3 different response options in a ${toneLabels[tone]} tone. The review says: "${reviewText}"\n\nFormat your response as JSON array: [{"type":"short","content":"..."},{"type":"detailed","content":"..."},{"type":"personal","content":"..."}]` }],
                                max_tokens: 1000
                            }
                        })
                    });
                    const data = await res.json();
                    const content = data.choices[0].message.content;
                    const jsonMatch = content.match(/\[[\s\S]*\]/);
                    this.responses = jsonMatch ? JSON.parse(jsonMatch[0]) : [];
                    this.render();
                    showToast('Cevaplar hazÄ±r!', 'success');
                } catch (err) {
                    console.error(err);
                    showToast('Hata oluÅŸtu', 'error');
                }
            },

            render() {
                const container = document.getElementById('responder-results');
                if (!this.responses.length) {
                    container.innerHTML = '<div class="empty-state"><svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg><h3>Cevap bekleniyor</h3><p>Yorumu yapÄ±ÅŸtÄ±rÄ±n ve cevap oluÅŸturun</p></div>';
                    return;
                }
                const typeLabels = { short: 'KÄ±sa', detailed: 'DetaylÄ±', personal: 'KiÅŸisel' };
                container.innerHTML = this.responses.map((r, i) => `
                    <div class="response-card">
                        <div class="response-card-header"><span class="response-card-type">${typeLabels[r.type] || r.type}</span></div>
                        <div class="response-card-content">${r.content}</div>
                        <div class="response-card-actions">
                            <button class="btn btn-outline btn-small" onclick="ReviewResponder.copy(${i})">Kopyala</button>
                        </div>
                    </div>
                `).join('');
            },

            copy(i) {
                navigator.clipboard.writeText(this.responses[i].content);
                showToast('KopyalandÄ±!', 'success');
            }
        };

        // ==================== COMPETITOR SPY ====================
        const CompetitorSpy = {
            games: [],

            extractAppId(input) {
                const match = input.match(/app\/(\d+)/);
                return match ? match[1] : input.replace(/\D/g, '');
            },

            async analyze() {
                const input = document.getElementById('spy-appid').value;
                const appId = this.extractAppId(input);
                if (!appId) { showToast('App ID girin', 'error'); return; }

                showToast('Analiz ediliyor...', 'info');

                try {
                    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://store.steampowered.com/api/appdetails?appids=${appId}`)}`;
                    const res = await fetch(proxyUrl);
                    const data = await res.json();
                    const parsed = JSON.parse(data.contents);

                    if (!parsed[appId] || !parsed[appId].success) {
                        showToast('Oyun bulunamadÄ±', 'error');
                        return;
                    }

                    const game = parsed[appId].data;

                    // Get review data
                    const reviewUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://store.steampowered.com/appreviews/${appId}?json=1&num_per_page=0`)}`;
                    const reviewRes = await fetch(reviewUrl);
                    const reviewData = await reviewRes.json();
                    const reviews = JSON.parse(reviewData.contents);

                    const totalReviews = reviews.query_summary?.total_reviews || 0;
                    const positiveReviews = reviews.query_summary?.total_positive || 0;
                    const reviewScore = totalReviews > 0 ? Math.round((positiveReviews / totalReviews) * 100) : 0;
                    const estimatedSales = this.estimateSales(totalReviews, game.is_free);

                    // Get last update from news API
                    let lastUpdate = 'Bilinmiyor';
                    let daysSinceUpdate = null;
                    try {
                        const newsUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://api.steampowered.com/ISteamNews/GetNewsForApp/v2/?appid=${appId}&count=1&maxlength=100`)}`;
                        const newsRes = await fetch(newsUrl);
                        const newsData = await newsRes.json();
                        const news = JSON.parse(newsData.contents);
                        if (news.appnews?.newsitems?.length > 0) {
                            const lastNewsDate = new Date(news.appnews.newsitems[0].date * 1000);
                            lastUpdate = lastNewsDate.toLocaleDateString('tr-TR');
                            daysSinceUpdate = Math.floor((Date.now() - lastNewsDate) / (1000 * 60 * 60 * 24));
                        }
                    } catch (e) { console.log('News fetch failed', e); }

                    const gameData = {
                        appId,
                        name: game.name,
                        developer: game.developers?.[0] || 'Unknown',
                        publisher: game.publishers?.[0] || 'Unknown',
                        price: game.is_free ? 'F2P' : (game.price_overview?.final_formatted || 'N/A'),
                        priceNum: game.is_free ? 0 : (game.price_overview?.final || 0) / 100,
                        releaseDate: game.release_date?.date || 'N/A',
                        totalReviews,
                        reviewScore,
                        estimatedSales,
                        genres: game.genres?.map(g => g.description).slice(0, 3) || [],
                        tags: game.categories?.map(c => c.description).slice(0, 5) || [],
                        headerImage: game.header_image,
                        lastUpdate,
                        daysSinceUpdate
                    };

                    this.showGameInfo(gameData);
                    this.showMetrics(gameData);

                    // Add to comparison list
                    if (!this.games.find(g => g.appId === appId)) {
                        this.games.push(gameData);
                        this.renderList();
                    }

                    showToast('Analiz tamamlandÄ±!', 'success');
                } catch (err) {
                    console.error(err);
                    showToast('Hata oluÅŸtu', 'error');
                }
            },

            estimateSales(reviews, isFree) {
                if (isFree) return reviews * 100;
                return reviews * 30; // Boxleiter method estimate
            },

            showGameInfo(game) {
                const updateStatus = game.daysSinceUpdate !== null ?
                    (game.daysSinceUpdate > 365 ? 'abandoned' : (game.daysSinceUpdate > 180 ? 'warning' : 'active')) : '';
                const updateBadge = updateStatus ? `<span class="status-badge ${updateStatus === 'abandoned' ? 'abandoned' : updateStatus === 'warning' ? 'unreleased' : 'active'}">${game.daysSinceUpdate > 365 ? 'Terk EdilmiÅŸ?' : game.daysSinceUpdate > 180 ? 'Uzun sÃ¼redir gÃ¼ncelleme yok' : 'Aktif'}</span>` : '';

                document.getElementById('spy-info').innerHTML = `
                    <div class="spy-game-card">
                        <img src="${game.headerImage}" class="spy-game-image">
                        <div class="spy-game-info">
                            <div class="spy-game-title">${game.name}</div>
                            <div class="spy-game-dev">${game.developer}</div>
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <p style="font-size:0.85rem;color:var(--text-secondary);margin-bottom:8px;"><strong>Genres:</strong> ${game.genres.join(', ')}</p>
                        <p style="font-size:0.85rem;color:var(--text-secondary);margin-bottom:8px;"><strong>Ã‡Ä±kÄ±ÅŸ:</strong> ${game.releaseDate}</p>
                        <p style="font-size:0.85rem;color:var(--text-secondary);display:flex;align-items:center;gap:8px;"><strong>Son GÃ¼ncelleme:</strong> ${game.lastUpdate} ${game.daysSinceUpdate !== null ? `(${game.daysSinceUpdate} gÃ¼n Ã¶nce)` : ''} ${updateBadge}</p>
                    </div>
                `;
            },

            showMetrics(game) {
                document.getElementById('spy-metrics').innerHTML = `
                    <div class="grid-2" style="gap:12px;">
                        <div class="spy-metric"><div class="spy-metric-value">${game.price}</div><div class="spy-metric-label">Fiyat</div></div>
                        <div class="spy-metric"><div class="spy-metric-value">${game.reviewScore}%</div><div class="spy-metric-label">Pozitif</div></div>
                        <div class="spy-metric"><div class="spy-metric-value">${game.totalReviews.toLocaleString()}</div><div class="spy-metric-label">Ä°nceleme</div></div>
                        <div class="spy-metric"><div class="spy-metric-value">${game.estimatedSales.toLocaleString()}</div><div class="spy-metric-label">Tahmini SatÄ±ÅŸ</div></div>
                    </div>
                    <div class="spy-metric" style="margin-top:12px;">
                        <div class="spy-metric-value" style="font-size:1rem;">${game.lastUpdate}</div>
                        <div class="spy-metric-label">Son GÃ¼ncelleme ${game.daysSinceUpdate !== null ? `(${game.daysSinceUpdate} gÃ¼n)` : ''}</div>
                    </div>
                `;
            },

            renderList() {
                const tbody = document.getElementById('spy-list');
                if (!this.games.length) {
                    tbody.innerHTML = '<tr><td colspan="8" style="text-align:center;padding:20px;color:var(--text-muted)">HenÃ¼z oyun eklenmedi</td></tr>';
                    return;
                }
                tbody.innerHTML = this.games.map((g, i) => {
                    const statusClass = g.daysSinceUpdate > 365 ? 'abandoned' : (g.daysSinceUpdate > 180 ? 'unreleased' : 'active');
                    const statusText = g.daysSinceUpdate > 365 ? 'Terk?' : (g.daysSinceUpdate > 180 ? 'Eski' : 'Aktif');
                    return `
                    <tr>
                        <td><a href="https://store.steampowered.com/app/${g.appId}" target="_blank" style="color:var(--accent);">${g.name}</a></td>
                        <td>${g.price}</td>
                        <td>${g.totalReviews.toLocaleString()}</td>
                        <td>${g.reviewScore}%</td>
                        <td>${g.estimatedSales.toLocaleString()}</td>
                        <td>${g.releaseDate}</td>
                        <td>${g.lastUpdate} ${g.daysSinceUpdate !== null ? `<span class="status-badge ${statusClass}">${statusText}</span>` : ''}</td>
                        <td><button class="btn btn-outline btn-small" onclick="CompetitorSpy.remove(${i})">Ã—</button></td>
                    </tr>
                `}).join('');
            },

            remove(i) { this.games.splice(i, 1); this.renderList(); },
            clearList() { this.games = []; this.renderList(); showToast('Liste temizlendi', 'info'); },

            exportComparison() {
                if (!this.games.length) { showToast('Liste boÅŸ', 'error'); return; }
                const BOM = '\uFEFF';
                const rows = [['Name', 'Price', 'Reviews', 'Score', 'Est. Sales', 'Release Date', 'Last Update', 'Days Since Update', 'Developer']];
                this.games.forEach(g => rows.push([g.name, g.price, g.totalReviews, g.reviewScore + '%', g.estimatedSales, g.releaseDate, g.lastUpdate, g.daysSinceUpdate || '', g.developer]));
                const csv = rows.map(r => r.map(c => `"${(c||'').toString().replace(/"/g, '""')}"`).join(',')).join('\n');
                const blob = new Blob([BOM + csv], { type: 'text/csv;charset=utf-8;' });
                const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
                a.download = 'competitor_analysis.csv'; a.click();
                showToast('CSV indirildi', 'success');
            }
        };

        // ==================== LAUNCH CHECKLIST ====================
        const LaunchChecklist = {
            storageKey: 'steamLaunchChecklist',
            items: {
                store: [
                    'KÄ±sa aÃ§Ä±klama yazÄ±ldÄ± (max 300 karakter)',
                    'DetaylÄ± aÃ§Ä±klama yazÄ±ldÄ± (About This Game)',
                    'Sistem gereksinimleri eklendi',
                    'TÃ¼m dil Ã§evirileri tamamlandÄ±',
                    'YaÅŸ derecelendirmesi tamamlandÄ±',
                    'FiyatlandÄ±rma ayarlandÄ±'
                ],
                assets: [
                    'Header Capsule (460x215) yÃ¼klendi',
                    'Small Capsule (231x87) yÃ¼klendi',
                    'Main Capsule (616x353) yÃ¼klendi',
                    'Hero Capsule (1920x622) yÃ¼klendi',
                    'Library Hero (3840x1240) yÃ¼klendi',
                    'En az 5 screenshot yÃ¼klendi',
                    'Trailer video yÃ¼klendi'
                ],
                build: [
                    'Final build Steam\'e yÃ¼klendi',
                    'TÃ¼m depotlar ayarlandÄ±',
                    'Beta test yapÄ±ldÄ±',
                    'BaÅŸarÄ±mlar test edildi',
                    'Cloud save test edildi',
                    'Kontroller/Gamepad test edildi'
                ],
                marketing: [
                    'Press kit hazÄ±rlandÄ±',
                    'Social media hesaplarÄ± gÃ¼ncellendi',
                    'Discord/Community hazÄ±r',
                    'Ä°nfluencer listesi hazÄ±r',
                    'Lansman duyurusu taslaÄŸÄ± yazÄ±ldÄ±'
                ],
                launch: [
                    'Release date ayarlandÄ±',
                    'Wishlist bildirimi planlandÄ±',
                    'Ä°lk gÃ¼n patch hazÄ±r',
                    'Community manager hazÄ±r',
                    'Launch discount (opsiyonel) ayarlandÄ±'
                ]
            },
            checked: {},

            init() {
                this.load();
                this.renderAll();
                this.updateProgress();
            },

            load() {
                const saved = localStorage.getItem(this.storageKey);
                this.checked = saved ? JSON.parse(saved) : {};
            },

            save() {
                localStorage.setItem(this.storageKey, JSON.stringify(this.checked));
            },

            renderAll() {
                Object.keys(this.items).forEach(category => {
                    const container = document.getElementById(`checklist-${category}`);
                    if (!container) return;
                    container.innerHTML = this.items[category].map((item, i) => {
                        const key = `${category}-${i}`;
                        const isChecked = this.checked[key];
                        return `
                            <div class="checklist-item ${isChecked ? 'checked' : ''}" onclick="LaunchChecklist.toggle('${key}')">
                                <div class="checklist-checkbox"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></div>
                                <span class="checklist-text">${item}</span>
                            </div>
                        `;
                    }).join('');
                });
            },

            toggle(key) {
                this.checked[key] = !this.checked[key];
                this.save();
                this.renderAll();
                this.updateProgress();
            },

            updateProgress() {
                const total = Object.values(this.items).flat().length;
                const done = Object.values(this.checked).filter(v => v).length;
                const percent = Math.round((done / total) * 100);
                document.getElementById('checklist-progress').style.width = percent + '%';
                document.getElementById('checklist-percent').textContent = percent + '%';
            },

            updateCountdown() {
                const dateInput = document.getElementById('launch-date').value;
                const container = document.getElementById('launch-countdown');

                if (!dateInput) {
                    container.innerHTML = '<div class="countdown-value">-</div><div class="countdown-label">Tarih seÃ§in</div>';
                    return;
                }

                const launchDate = new Date(dateInput);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                launchDate.setHours(0, 0, 0, 0);

                const diffTime = launchDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                if (diffDays < 0) {
                    container.innerHTML = '<div class="countdown-value" style="background:var(--error);-webkit-background-clip:text;">GeÃ§miÅŸ!</div><div class="countdown-label">Ã‡Ä±kÄ±ÅŸ tarihi geÃ§ti</div>';
                } else if (diffDays === 0) {
                    container.innerHTML = '<div class="countdown-value">BUGÃœN!</div><div class="countdown-label">Lansman gÃ¼nÃ¼ ðŸš€</div>';
                } else {
                    container.innerHTML = `<div class="countdown-value">${diffDays}</div><div class="countdown-label">GÃ¼n kaldÄ±</div>`;
                }

                this.showTips(diffDays);
            },

            showTips(days) {
                const tips = document.getElementById('launch-tips');
                let html = '';

                if (days > 30) {
                    html = '<div class="tip-card">âœ… Harika! Bol bol pazarlama yapabilirsiniz.</div>';
                } else if (days > 14) {
                    html = '<div class="tip-card">ðŸ“£ Press kit gÃ¶nderme zamanÄ±!</div>';
                } else if (days > 7) {
                    html = '<div class="tip-card">ðŸ”¥ Final testleri tamamlayÄ±n.</div>';
                } else if (days > 0) {
                    html = '<div class="tip-card">âš¡ Son kontrolleri yapÄ±n, her ÅŸey hazÄ±r mÄ±?</div>';
                }

                tips.innerHTML = html;
            },

            reset() {
                if (confirm('TÃ¼m kontrol listesi sÄ±fÄ±rlansÄ±n mÄ±?')) {
                    this.checked = {};
                    this.save();
                    this.renderAll();
                    this.updateProgress();
                    showToast('Liste sÄ±fÄ±rlandÄ±', 'info');
                }
            }
        };

        // ==================== LOADING SCREEN ====================
        function initLoadingScreen() {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingBar = document.getElementById('loadingBar');
            const loadingStatus = document.getElementById('loadingStatus');

            const steps = [
                { progress: 20, text: 'Moduller yukleniyor...' },
                { progress: 40, text: 'Arayuz hazirlaniyor...' },
                { progress: 60, text: 'Veriler aliniyor...' },
                { progress: 80, text: 'Ayarlar kontrol ediliyor...' },
                { progress: 100, text: 'Hazir!' }
            ];

            let currentStep = 0;
            const interval = setInterval(() => {
                if (currentStep < steps.length) {
                    loadingBar.style.width = steps[currentStep].progress + '%';
                    loadingStatus.textContent = steps[currentStep].text;
                    currentStep++;
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                    }, 300);
                }
            }, 400);
        }

        // ==================== INIT ====================
        document.addEventListener('DOMContentLoaded', () => {
            // Loading screen
            initLoadingScreen();

            // Settings
            Settings.init();

            // Other modules
            Favorites.init();
            Localization.init();
            Achievements.render();
            TradingCards.init();
            Revenue.calculate();
            Wishlist.estimate();
            RegionalPricing.init();
            LaunchChecklist.init();
            SocialPost.showPreview();
            CompetitorSpy.renderList();
        });
    </script>
</body>
</html>
